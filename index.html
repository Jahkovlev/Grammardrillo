<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Grammardrillo - English Grammar Drill</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Arial, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            padding: 30px;
            max-width: 400px;
            width: 100%;
            text-align: center;
        }

        h1 {
            color: #333;
            margin-bottom: 20px;
            font-size: 28px;
        }

        h2 {
            color: #555;
            margin-bottom: 20px;
            font-size: 24px;
        }

        .welcome-text {
            font-size: 20px;
            color: #666;
            margin-bottom: 30px;
            line-height: 1.6;
        }

        button {
            background: #667eea;
            color: white;
            border: none;
            padding: 15px 40px;
            border-radius: 30px;
            font-size: 18px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px;
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.4);
        }

        button:hover {
            background: #5a67d8;
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(102, 126, 234, 0.5);
        }

        button:active {
            transform: translateY(0);
        }

        button:disabled {
            background: #cbd5e0;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }

        .menu-button {
            display: block;
            width: 100%;
            margin-bottom: 15px;
            background: #48bb78;
        }

        .menu-button:hover {
            background: #38a169;
        }
        
        .category-button {
            display: block;
            width: 100%;
            margin-bottom: 15px;
            background: #4299e1;
        }
        
        .category-button:hover {
            background: #3182ce;
        }

        .back-button {
            background: #f56565;
            padding: 10px 20px;
            font-size: 16px;
        }

        .back-button:hover {
            background: #e53e3e;
        }

        .navigation-buttons {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-top: 20px;
            gap: 10px;
        }

        .button-row {
            display: flex;
            justify-content: space-between;
            width: 100%;
            max-width: 350px;
        }
        
        .navigation-buttons .back-button {
            margin-top: 10px;
        }

        .nav-button {
            background: #4299e1;
            padding: 10px 25px;
            font-size: 16px;
        }

        .nav-button:hover {
            background: #3182ce;
        }

        .exercise-container {
            background: #f7fafc;
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
            cursor: pointer;
            position: relative;
            transition: all 0.3s ease;
        }
        
        .exercise-container:hover {
            background: #edf2f7;
        }
        
        .exercise-container::after {
            content: 'Click to hide/show examples';
            position: absolute;
            bottom: 5px;
            right: 10px;
            font-size: 12px;
            color: #a0aec0;
            font-style: italic;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        
        .exercise-container:hover::after {
            opacity: 1;
        }

        .sentence {
            font-size: 20px;
            color: #2d3748;
            margin: 15px 0;
            padding: 15px;
            background: white;
            border-radius: 10px;
            border: 2px solid #e2e8f0;
            transition: all 0.3s ease;
        }

        .sentence:hover {
            border-color: #667eea;
            transform: translateX(5px);
        }

        .exercise-title {
            font-size: 18px;
            color: #718096;
            margin-bottom: 20px;
            font-style: italic;
        }

        .hidden {
            display: none;
        }

        .verb-info {
            background: #bee3f8;
            padding: 10px;
            border-radius: 8px;
            margin-bottom: 15px;
            font-weight: bold;
            color: #2c5282;
            line-height: 1.6;
            text-align: center;
        }

        .rules-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 8px 20px;
            border-radius: 20px;
            font-size: 14px;
            cursor: pointer;
            margin-bottom: 15px;
            transition: all 0.3s ease;
            box-shadow: 0 2px 10px rgba(102, 126, 234, 0.3);
        }

        .rules-button:hover {
            background: #5a67d8;
            transform: translateY(-2px);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.5);
        }

        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.5);
            display: flex;
            justify-content: center;
            align-items: center;
            z-index: 1000;
            padding: 20px;
            animation: fadeIn 0.3s ease-out;
        }

        .modal-content {
            background: white;
            border-radius: 20px;
            padding: 30px;
            max-width: 500px;
            width: 100%;
            max-height: 80vh;
            overflow-y: auto;
            position: relative;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.2);
            animation: slideIn 0.3s ease-out;
        }

        @keyframes slideIn {
            from {
                transform: translateY(-20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: #f56565;
            color: white;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            font-size: 20px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
        }

        .modal-close:hover {
            background: #e53e3e;
            transform: scale(1.1);
        }

        .modal-title {
            font-size: 24px;
            color: #333;
            margin-bottom: 20px;
            text-align: center;
        }

        .modal-description {
            font-size: 16px;
            line-height: 1.6;
            color: #555;
            cursor: pointer;
            padding: 15px;
            background: #f7fafc;
            border-radius: 10px;
            transition: all 0.3s ease;
            user-select: none;
            position: relative;
        }

        .modal-description:hover {
            background: #e2e8f0;
        }

        .modal-description:after {
            content: 'üîÑ Click to switch language';
            position: absolute;
            bottom: -20px;
            right: 0;
            font-size: 12px;
            color: #718096;
            font-style: italic;
        }

        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid #f3f3f3;
            border-top: 3px solid #667eea;
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin-left: 10px;
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        .error-message {
            color: #e53e3e;
            font-size: 14px;
            margin-top: 10px;
            padding: 10px;
            background: #fed7d7;
            border-radius: 8px;
        }

        .nav-button.next-button {
            background: #48bb78;
        }
        
        .nav-button.next-button:hover {
            background: #38a169;
        }
        
        .russian {
            font-size: 28px;
            color: #5a67d8;
            font-weight: bold;
            margin-bottom: 20px;
            padding: 30px 20px 20px 20px;
            background: #e6f2ff;
            border-radius: 10px;
            text-align: center;
            display: block !important;
            position: relative;
        }
        
        .tense-badge {
            position: absolute;
            top: -10px;
            right: 20px;
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: normal;
            box-shadow: 0 2px 10px rgba(102, 126, 234, 0.3);
            text-transform: uppercase;
            letter-spacing: 1px;
            transition: all 0.3s ease;
            animation: badgeAppear 0.5s ease-out;
            cursor: default;
            user-select: none;
        }
        
        @keyframes badgeAppear {
            from {
                opacity: 0;
                transform: scale(0.8) translateY(-10px);
            }
            50% {
                transform: scale(1.1) translateY(0);
            }
            to {
                opacity: 1;
                transform: scale(1) translateY(0);
            }
        }
        
        .tense-badge:hover {
            transform: translateY(-2px) scale(1.05);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.5);
        }
        
        .tense-badge.present { background: #48bb78; }
        .tense-badge.present:hover { box-shadow: 0 4px 15px rgba(72, 187, 120, 0.5); }
        
        .tense-badge.past { background: #f56565; }
        .tense-badge.past:hover { box-shadow: 0 4px 15px rgba(245, 101, 101, 0.5); }
        
        .tense-badge.future { background: #4299e1; }
        .tense-badge.future:hover { box-shadow: 0 4px 15px rgba(66, 153, 225, 0.5); }
        
        .tense-badge.present-perfect { background: #9f7aea; }
        .tense-badge.present-perfect:hover { box-shadow: 0 4px 15px rgba(159, 122, 234, 0.5); }
        
        .tense-badge.past-perfect { background: #ed8936; }
        .tense-badge.past-perfect:hover { box-shadow: 0 4px 15px rgba(237, 137, 54, 0.5); }
        
        .tense-badge.present-continuous { background: #38b2ac; }
        .tense-badge.present-continuous:hover { box-shadow: 0 4px 15px rgba(56, 178, 172, 0.5); }
        
        .tense-badge.past-continuous { background: #e53e3e; }
        .tense-badge.past-continuous:hover { box-shadow: 0 4px 15px rgba(229, 62, 62, 0.5); }
        
        .tense-badge.future-continuous { background: #3182ce; }
        .tense-badge.future-continuous:hover { box-shadow: 0 4px 15px rgba(49, 130, 206, 0.5); }
        
        .tense-badge.present-perfect-continuous { background: #805ad5; }
        .tense-badge.present-perfect-continuous:hover { box-shadow: 0 4px 15px rgba(128, 90, 213, 0.5); }
        
        .tense-badge.past-perfect-continuous { background: #dd6b20; }
        .tense-badge.past-perfect-continuous:hover { box-shadow: 0 4px 15px rgba(221, 107, 32, 0.5); }
        
        .english {
            font-size: 22px;
            color: #2d3748;
            margin: 10px 0;
            padding: 15px;
            background: #f7fafc;
            border-radius: 8px;
            transition: all 0.3s ease;
            opacity: 0;
            animation: fadeIn 0.5s forwards;
        }
        
        @keyframes fadeIn {
            to {
                opacity: 1;
            }
        }
        
        .test-item {
            cursor: pointer;
            user-select: none;
            width: 100%;
        }
        
        #testContainer {
            min-height: 400px;
            display: flex;
            align-items: center;
            justify-content: center;
            position: relative;
        }
        
        #testContainer:after {
            content: 'Tap to reveal answer';
            position: absolute;
            bottom: 10px;
            right: 10px;
            font-size: 14px;
            color: #a0aec0;
            font-style: italic;
        }
        
        #testContainer.complete:after {
            content: 'Complete! Try a new example';
        }
        
        .exercise-screen {
            /* Common styling for all exercise screens */
        }
        
        @media (max-width: 480px) {
            .container {
                padding: 20px;
            }
            
            button {
                padding: 12px 25px;
                font-size: 16px;
            }
            
            .navigation-buttons {
                justify-content: center;
            }
            
            .nav-button {
                margin: 5px;
            }
            
            .tense-badge {
                animation: badgeAppear 0.5s ease-out, pulseMobile 2s ease-in-out infinite;
                font-size: 12px;
                padding: 4px 12px;
            }
            
            .russian {
                font-size: 24px;
                padding: 35px 15px 15px 15px;
            }
        }
        
        @keyframes pulseMobile {
            0%, 100% {
                box-shadow: 0 2px 10px rgba(102, 126, 234, 0.3);
            }
            50% {
                box-shadow: 0 2px 20px rgba(102, 126, 234, 0.6);
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Welcome Screen -->
        <div id="welcomeScreen" class="screen">
            <h1>Welcome to Grammardrillo!</h1>
            <p class="welcome-text">Let's go and get you fluency NOW!</p>
            <p style="font-size: 14px; color: #718096; margin-top: 20px;">‚ú® Works offline - no internet required!</p>
            <button onclick="app.showMainMenu()">GO!</button>
        </div>

        <!-- Main Menu -->
        <div id="mainMenu" class="screen hidden">
            <h1>Main Menu</h1>
            <button class="menu-button" onclick="app.showExercises()">Exercises</button>
            <button class="menu-button" onclick="app.showTestYourself()">Test Yourself</button>
        </div>

        <!-- Exercises Menu -->
        <div id="exercisesMenu" class="screen hidden">
            <h2>Choose Category</h2>
            <button class="category-button" onclick="app.showSimpleMenu()">Simple Tenses</button>
            <button class="category-button" onclick="app.showContinuousMenu()">Continuous Tenses</button>
            <button class="back-button" onclick="app.showMainMenu()">Back to Main Menu</button>
        </div>
        
        <!-- Simple Tenses Menu -->
        <div id="simpleMenu" class="screen hidden">
            <h2>Simple Tenses</h2>
            <button class="menu-button" onclick="app.startExercise('present')">Present Simple</button>
            <button class="menu-button" onclick="app.startExercise('past')">Past Simple</button>
            <button class="menu-button" onclick="app.startExercise('future')">Future Simple</button>
            <button class="menu-button" onclick="app.startExercise('presentPerfect')">Present Perfect</button>
            <button class="menu-button" onclick="app.startExercise('pastPerfect')">Past Perfect</button>
            <button class="back-button" onclick="app.showExercises()">Back to Categories</button>
        </div>
        
        <!-- Continuous Tenses Menu -->
        <div id="continuousMenu" class="screen hidden">
            <h2>Continuous Tenses</h2>
            <button class="menu-button" onclick="app.startExercise('presentContinuous')">Present Continuous</button>
            <button class="menu-button" onclick="app.startExercise('pastContinuous')">Past Continuous</button>
            <button class="menu-button" onclick="app.startExercise('futureContinuous')">Future Continuous</button>
            <button class="menu-button" onclick="app.startExercise('presentPerfectContinuous')">Present Perfect Continuous</button>
            <button class="menu-button" onclick="app.startExercise('pastPerfectContinuous')">Past Perfect Continuous</button>
            <button class="back-button" onclick="app.showExercises()">Back to Categories</button>
        </div>

        <!-- Universal Exercise Template -->
        <div id="exerciseTemplate" class="screen exercise-screen hidden">
            <h2 id="exerciseTitle">Exercise Title</h2>
            <p class="exercise-title" id="exerciseSubtitle">Practice changing subjects while keeping the same verb</p>
            
            <div class="verb-info" id="currentVerbInfo">Current verb: go</div>
            <button class="rules-button" onclick="app.showRules()">üìö Rules</button>
            
            <div class="exercise-container" onclick="app.toggleExamples()">
                <div id="sentenceDisplay">
                    <div class="sentence" id="sentence1">Loading...</div>
                    <div class="sentence" id="sentence2">Loading...</div>
                    <div class="sentence" id="sentence3">Loading...</div>
                    <div class="sentence" id="sentence4">Loading...</div>
                </div>
            </div>

            <div id="errorMessage" class="error-message hidden"></div>

            <div class="navigation-buttons">
                <div class="button-row">
                    <button class="nav-button" onclick="app.previousSubject()">Back</button>
                    <button class="nav-button next-button" onclick="app.nextSubject()">Next</button>
                </div>
                <div class="button-row">
                    <button class="nav-button" onclick="app.playAudio()">üîä Play</button>
                    <button class="nav-button" onclick="app.changeVerb()">Change the Word</button>
                </div>
                <button class="back-button" id="exerciseBackButton" onclick="app.goBack()">Back</button>
            </div>
        </div>

        <!-- Test Yourself -->
        <div id="testYourself" class="screen hidden">
            <h2>Test Yourself</h2>
            <p class="exercise-title">–ü–µ—Ä–µ–≤–µ–¥–∏ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ –∏ —Å–¥–µ–ª–∞–π –∏–∑ –Ω–µ–≥–æ –æ—Ç—Ä–∏—Ü–∞–Ω–∏–µ, –≤–æ–ø—Ä–æ—Å –∏ wh-–≤–æ–ø—Ä–æ—Å. –ö–ª–∏–∫, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å–µ–±—è.</p>
            
            <div class="exercise-container" id="testContainer" onclick="app.revealNext()">
                <div class="test-item">
                    <div class="russian" id="russianSentence">Loading...</div>
                    <div class="english hidden" id="englishPositive"></div>
                    <div class="english hidden" id="englishNegative"></div>
                    <div class="english hidden" id="englishQuestion"></div>
                    <div class="english hidden" id="englishWhQuestion"></div>
                </div>
            </div>
            
            <div id="testError" class="error-message hidden"></div>
            
            <div class="navigation-buttons">
                <button class="nav-button" onclick="app.generateNewTest()">New Example</button>
                <button class="back-button" onclick="app.showMainMenu()">Back to Main Menu</button>
            </div>
        </div>
    </div>

    <script>
        // Application State Manager
        const app = {
            // Current state
            currentTense: null,
            currentVerb: 'go',
            currentSubjectIndex: 0,
            isLoading: false,
            audioEnabled: true,
            currentRulesLanguage: 'russian',
            examplesHidden: false,  // Track if examples are hidden
            
            // Test state
            revealStage: 0,
            currentTestData: null,
            
            // Navigation history for back button
            navigationHistory: [],
            
            // Initialize
            init() {
                // Show welcome screen by default
                this.showScreen('welcomeScreen');
            },
            
            // Toggle examples visibility
            toggleExamples() {
                this.examplesHidden = !this.examplesHidden;
                const sentences = ['sentence2', 'sentence3', 'sentence4'];
                
                sentences.forEach(id => {
                    const element = document.getElementById(id);
                    if (element) {
                        if (this.examplesHidden) {
                            element.style.display = 'none';
                        } else {
                            element.style.display = 'block';
                        }
                    }
                });
            },
            
            // Apply hidden state
            applyExamplesVisibility() {
                if (this.examplesHidden) {
                    const sentences = ['sentence2', 'sentence3', 'sentence4'];
                    sentences.forEach(id => {
                        const element = document.getElementById(id);
                        if (element) {
                            element.style.display = 'none';
                        }
                    });
                }
            },
            
            // Screen management
            showScreen(screenId) {
                document.querySelectorAll('.screen').forEach(screen => {
                    screen.classList.add('hidden');
                });
                document.getElementById(screenId).classList.remove('hidden');
            },
            
            showMainMenu() {
                this.navigationHistory = ['mainMenu'];
                this.showScreen('mainMenu');
            },
            
            showExercises() {
                this.navigationHistory.push('exercisesMenu');
                this.showScreen('exercisesMenu');
            },
            
            showSimpleMenu() {
                this.navigationHistory.push('simpleMenu');
                this.showScreen('simpleMenu');
            },
            
            showContinuousMenu() {
                this.navigationHistory.push('continuousMenu');
                this.showScreen('continuousMenu');
            },
            
            showTestYourself() {
                this.navigationHistory.push('testYourself');
                this.showScreen('testYourself');
                this.generateNewTest();
            },
            
            goBack() {
                if (this.navigationHistory.length > 1) {
                    this.navigationHistory.pop(); // Remove current
                    const previousScreen = this.navigationHistory[this.navigationHistory.length - 1];
                    this.showScreen(previousScreen);
                }
            },
            
            // Exercise management
            startExercise(tense) {
                this.currentTense = tense;
                this.currentSubjectIndex = 0;
                
                // Don't start with "be" in perfect continuous tenses
                if ((tense === 'presentPerfectContinuous' || tense === 'pastPerfectContinuous')) {
                    const availableVerbs = Object.keys(data.verbDictionary).filter(v => v !== 'be');
                    this.currentVerb = availableVerbs[0] || 'go';
                } else {
                    this.currentVerb = 'go';
                }
                
                // Reset examples visibility to shown
                this.examplesHidden = false;
                const sentences = ['sentence2', 'sentence3', 'sentence4'];
                sentences.forEach(id => {
                    document.getElementById(id).style.display = 'block';
                });
                
                // Update title and back button
                const titles = {
                    'present': 'Present Simple',
                    'past': 'Past Simple', 
                    'future': 'Future Simple',
                    'presentPerfect': 'Present Perfect',
                    'pastPerfect': 'Past Perfect',
                    'presentContinuous': 'Present Continuous',
                    'pastContinuous': 'Past Continuous',
                    'futureContinuous': 'Future Continuous',
                    'presentPerfectContinuous': 'Present Perfect Continuous',
                    'pastPerfectContinuous': 'Past Perfect Continuous'
                };
                
                document.getElementById('exerciseTitle').textContent = titles[tense];
                
                // Set appropriate back navigation
                const backButton = document.getElementById('exerciseBackButton');
                if (['present', 'past', 'future', 'presentPerfect', 'pastPerfect'].includes(tense)) {
                    backButton.onclick = () => this.showSimpleMenu();
                } else {
                    backButton.onclick = () => this.showContinuousMenu();
                }
                
                this.navigationHistory.push('exerciseTemplate');
                this.showScreen('exerciseTemplate');
                this.updateExerciseDisplay();
            },
            
            updateExerciseDisplay() {
                if (this.isLoading) return;
                
                const subject = data.allSubjects[this.currentSubjectIndex];
                const verbData = data.verbDictionary[this.currentVerb]?.[this.currentTense]?.[subject];
                
                // If no verb data (e.g., "be" in perfect continuous), switch to a different verb
                if (!verbData) {
                    if (this.currentVerb === 'be' && 
                        (this.currentTense === 'presentPerfectContinuous' || 
                         this.currentTense === 'pastPerfectContinuous')) {
                        this.currentVerb = 'go';
                        this.updateExerciseDisplay();
                        return;
                    }
                }
                
                if (verbData) {
                    document.getElementById('sentence1').textContent = verbData.positive;
                    document.getElementById('sentence2').textContent = verbData.negative;
                    document.getElementById('sentence3').textContent = verbData.question;
                    document.getElementById('sentence4').textContent = verbData.whQuestion;
                }
                
                // Update verb info
                const russianInfinitive = data.verbInfinitives[this.currentVerb] || '';
                const threeFormsDisplay = data.verbForms[this.currentVerb] ? 
                    `<br>(${data.verbForms[this.currentVerb]})` : '';
                document.getElementById('currentVerbInfo').innerHTML = 
                    `Current verb: ${this.currentVerb} - ${russianInfinitive}${threeFormsDisplay}`;
                
                // Apply hidden state
                this.applyExamplesVisibility();
            },
            
            nextSubject() {
                if (!this.isLoading) {
                    this.currentSubjectIndex++;
                    if (this.currentSubjectIndex >= data.allSubjects.length) {
                        this.currentSubjectIndex = 0;
                    }
                    this.updateExerciseDisplay();
                }
            },
            
            previousSubject() {
                if (!this.isLoading) {
                    this.currentSubjectIndex--;
                    if (this.currentSubjectIndex < 0) {
                        this.currentSubjectIndex = data.allSubjects.length - 1;
                    }
                    this.updateExerciseDisplay();
                }
            },
            
            changeVerb() {
                if (this.isLoading) return;
                
                const verbs = Object.keys(data.verbDictionary);
                let newVerb;
                let attempts = 0;
                
                do {
                    newVerb = verbs[Math.floor(Math.random() * verbs.length)];
                    attempts++;
                    
                    // Skip "be" verb in perfect continuous tenses
                    if (newVerb === 'be' && 
                        (this.currentTense === 'presentPerfectContinuous' || 
                         this.currentTense === 'pastPerfectContinuous')) {
                        continue;
                    }
                    
                    // If we've tried too many times, just use a different verb
                    if (attempts > 10 && newVerb === 'be') {
                        newVerb = 'go';
                    }
                } while (newVerb === this.currentVerb);
                
                this.currentVerb = newVerb;
                this.currentSubjectIndex = Math.floor(Math.random() * data.allSubjects.length);
                this.updateExerciseDisplay();
            },
            
            // Audio functions
            speak(text) {
                if ('speechSynthesis' in window && this.audioEnabled) {
                    window.speechSynthesis.cancel();
                    const utterance = new SpeechSynthesisUtterance(text);
                    utterance.lang = 'en-US';
                    utterance.rate = 0.9;
                    utterance.pitch = 1;
                    utterance.volume = 1;
                    window.speechSynthesis.speak(utterance);
                }
            },
            
            playAudio() {
                const sentences = [
                    document.getElementById('sentence1').textContent,
                    document.getElementById('sentence2').textContent,
                    document.getElementById('sentence3').textContent,
                    document.getElementById('sentence4').textContent
                ];
                
                let index = 0;
                const speakNext = () => {
                    if (index < sentences.length) {
                        this.speak(sentences[index]);
                        index++;
                        setTimeout(speakNext, 2000);
                    }
                };
                speakNext();
            },
            
            // Rules modal
            showRules() {
                const modalOverlay = document.createElement('div');
                modalOverlay.className = 'modal-overlay';
                modalOverlay.id = 'rulesModal';
                modalOverlay.onclick = (e) => {
                    if (e.target === modalOverlay) {
                        this.closeRules();
                    }
                };
                
                const modalContent = document.createElement('div');
                modalContent.className = 'modal-content';
                
                const closeButton = document.createElement('button');
                closeButton.className = 'modal-close';
                closeButton.innerHTML = '√ó';
                closeButton.onclick = () => this.closeRules();
                
                const title = document.createElement('h3');
                title.className = 'modal-title';
                
                const tenseConfig = data.tenseConfig[this.currentTense];
                title.textContent = tenseConfig.name + ' Rules';
                
                const description = document.createElement('div');
                description.className = 'modal-description';
                description.id = 'rulesDescription';
                description.textContent = data.tenseRules[this.currentTense][this.currentRulesLanguage];
                description.onclick = () => this.toggleRulesLanguage();
                
                modalContent.appendChild(closeButton);
                modalContent.appendChild(title);
                modalContent.appendChild(description);
                modalOverlay.appendChild(modalContent);
                
                document.body.appendChild(modalOverlay);
                this.currentRulesLanguage = 'russian';
            },
            
            closeRules() {
                const modal = document.getElementById('rulesModal');
                if (modal) modal.remove();
            },
            
            toggleRulesLanguage() {
                this.currentRulesLanguage = 
                    this.currentRulesLanguage === 'russian' ? 'english' : 'russian';
                const description = document.getElementById('rulesDescription');
                if (description) {
                    description.textContent = 
                        data.tenseRules[this.currentTense][this.currentRulesLanguage];
                }
            },
            
            // Test Yourself functions
            generateNewTest() {
                this.revealStage = 0;
                
                document.getElementById('testContainer').classList.remove('complete');
                document.getElementById('russianSentence').style.display = 'block';
                document.getElementById('russianSentence').classList.remove('hidden');
                document.querySelectorAll('.english').forEach(el => {
                    el.classList.add('hidden');
                    el.style.display = 'none';
                });
                
                let verbData = null;
                let randomSubject, randomVerb, randomTense;
                
                // Keep trying until we get a valid combination
                while (!verbData) {
                    randomSubject = data.allSubjects[Math.floor(Math.random() * data.allSubjects.length)];
                    const verbs = Object.keys(data.verbDictionary);
                    randomVerb = verbs[Math.floor(Math.random() * verbs.length)];
                    const tenses = Object.keys(data.tenseConfig);
                    randomTense = tenses[Math.floor(Math.random() * tenses.length)];
                    
                    // Skip "be" verb in perfect continuous tenses
                    if (randomVerb === 'be' && 
                        (randomTense === 'presentPerfectContinuous' || randomTense === 'pastPerfectContinuous')) {
                        continue;
                    }
                    
                    verbData = data.verbDictionary[randomVerb]?.[randomTense]?.[randomSubject];
                }
                
                if (verbData) {
                    const russianEl = document.getElementById('russianSentence');
                    const tenseConfig = data.tenseConfig[randomTense];
                    
                    russianEl.innerHTML = `
                        <span class="tense-badge ${tenseConfig.class}" 
                              aria-label="Use ${tenseConfig.name} tense">
                            ‚è± ${tenseConfig.name}
                        </span>
                        ${verbData.russian}
                    `;
                    
                    document.getElementById('englishPositive').textContent = verbData.positive;
                    document.getElementById('englishNegative').textContent = verbData.negative;
                    document.getElementById('englishQuestion').textContent = verbData.question;
                    document.getElementById('englishWhQuestion').textContent = verbData.whQuestion;
                    
                    this.currentTestData = {
                        sentences: [
                            verbData.positive,
                            verbData.negative,
                            verbData.question,
                            verbData.whQuestion
                        ]
                    };
                }
            },
            
            revealNext() {
                const elements = [
                    'englishPositive',
                    'englishNegative', 
                    'englishQuestion',
                    'englishWhQuestion'
                ];
                
                if (this.revealStage < elements.length) {
                    const element = document.getElementById(elements[this.revealStage]);
                    element.classList.remove('hidden');
                    element.style.cssText = 
                        'display: block !important; visibility: visible !important; opacity: 1 !important;';
                    this.revealStage++;
                    
                    if (this.revealStage === elements.length) {
                        document.getElementById('testContainer').classList.add('complete');
                    }
                }
            }
        };

        // Data Module
        const data = {
            // Tense configuration
            tenseConfig: {
                'present': { name: 'Present Simple', class: 'present' },
                'past': { name: 'Past Simple', class: 'past' },
                'future': { name: 'Future Simple', class: 'future' },
                'presentPerfect': { name: 'Present Perfect', class: 'present-perfect' },
                'pastPerfect': { name: 'Past Perfect', class: 'past-perfect' },
                'presentContinuous': { name: 'Present Continuous', class: 'present-continuous' },
                'pastContinuous': { name: 'Past Continuous', class: 'past-continuous' },
                'futureContinuous': { name: 'Future Continuous', class: 'future-continuous' },
                'presentPerfectContinuous': { name: 'Present Perfect Continuous', class: 'present-perfect-continuous' },
                'pastPerfectContinuous': { name: 'Past Perfect Continuous', class: 'past-perfect-continuous' }
            },
            
            // All subjects
            allSubjects: ['I', 'you', 'he', 'she', 'it', 'we', 'they'],
            
            // Verbs that typically don't use continuous forms
            nonContinuousVerbs: ['know', 'understand', 'believe', 'remember', 'forget', 
                                'like', 'love', 'hate', 'want', 'need', 'prefer',
                                'belong', 'own', 'possess', 'cost', 'seem', 'appear'],
            
            // Russian infinitive forms
            verbInfinitives: {
                'be': '–±—ã—Ç—å',
                'beat': '–±–∏—Ç—å',
                'become': '—Å—Ç–∞–Ω–æ–≤–∏—Ç—å—Å—è',
                'begin': '–Ω–∞—á–∏–Ω–∞—Ç—å',
                'break': '–ª–æ–º–∞—Ç—å',
                'bring': '–ø—Ä–∏–Ω–æ—Å–∏—Ç—å',
                'build': '—Å—Ç—Ä–æ–∏—Ç—å',
                'buy': '–ø–æ–∫—É–ø–∞—Ç—å',
                'catch': '–ª–æ–≤–∏—Ç—å',
                'choose': '–≤—ã–±–∏—Ä–∞—Ç—å',
                'come': '–ø—Ä–∏—Ö–æ–¥–∏—Ç—å',
                'cost': '—Å—Ç–æ–∏—Ç—å',
                'do': '–¥–µ–ª–∞—Ç—å',
                'draw': '—Ä–∏—Å–æ–≤–∞—Ç—å',
                'dream': '–º–µ—á—Ç–∞—Ç—å',
                'drink': '–ø–∏—Ç—å',
                'drive': '–≤–æ–¥–∏—Ç—å –º–∞—à–∏–Ω—É',
                'eat': '–µ—Å—Ç—å',
                'fall': '–ø–∞–¥–∞—Ç—å',
                'feel': '—á—É–≤—Å—Ç–≤–æ–≤–∞—Ç—å',
                'find': '–Ω–∞—Ö–æ–¥–∏—Ç—å',
                'fix': '—á–∏–Ω–∏—Ç—å',
                'fly': '–ª–µ—Ç–∞—Ç—å',
                'get': '–ø–æ–ª—É—á–∞—Ç—å',
                'give': '–¥–∞–≤–∞—Ç—å',
                'go': '–∏–¥—Ç–∏',
                'grow': '—Ä–∞—Å—Ç–∏',
                'have': '–∏–º–µ—Ç—å',
                'hear': '—Å–ª—ã—à–∞—Ç—å',
                'know': '–∑–Ω–∞—Ç—å',
                'learn': '—É—á–∏—Ç—å—Å—è',
                'leave': '—É—Ö–æ–¥–∏—Ç—å',
                'lie': '–ª–µ–∂–∞—Ç—å',
                'make': '–¥–µ–ª–∞—Ç—å',
                'meet': '–≤—Å—Ç—Ä–µ—á–∞—Ç—å',
                'play': '–∏–≥—Ä–∞—Ç—å',
                'put': '–∫–ª–∞—Å—Ç—å',
                'read': '—á–∏—Ç–∞—Ç—å',
                'run': '–±–µ–≥–∞—Ç—å',
                'say': '–≥–æ–≤–æ—Ä–∏—Ç—å',
                'see': '–≤–∏–¥–µ—Ç—å',
                'seek': '–∏—Å–∫–∞—Ç—å',
                'show': '–ø–æ–∫–∞–∑—ã–≤–∞—Ç—å',
                'sing': '–ø–µ—Ç—å',
                'sit': '—Å–∏–¥–µ—Ç—å',
                'sleep': '—Å–ø–∞—Ç—å',
                'speak': '–≥–æ–≤–æ—Ä–∏—Ç—å',
                'stand': '—Å—Ç–æ—è—Ç—å',
                'study': '—É—á–∏—Ç—å—Å—è',
                'swim': '–ø–ª–∞–≤–∞—Ç—å',
                'take': '–±—Ä–∞—Ç—å',
                'teach': '—É—á–∏—Ç—å',
                'tell': '—Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—Ç—å',
                'think': '–¥—É–º–∞—Ç—å',
                'throw': '–±—Ä–æ—Å–∞—Ç—å',
                'understand': '–ø–æ–Ω–∏–º–∞—Ç—å',
                'work': '—Ä–∞–±–æ—Ç–∞—Ç—å',
                'write': '–ø–∏—Å–∞—Ç—å',
                'cry': '–ø–ª–∞–∫–∞—Ç—å'
            },
            
            // Three forms of verbs
            verbForms: {
                'be': 'be-was/were-been',
                'beat': 'beat-beat-beaten',
                'become': 'become-became-become',
                'begin': 'begin-began-begun',
                'break': 'break-broke-broken',
                'bring': 'bring-brought-brought',
                'build': 'build-built-built',
                'buy': 'buy-bought-bought',
                'catch': 'catch-caught-caught',
                'choose': 'choose-chose-chosen',
                'come': 'come-came-come',
                'cost': 'cost-cost-cost',
                'do': 'do-did-done',
                'draw': 'draw-drew-drawn',
                'dream': 'dream-dreamt-dreamt',
                'drink': 'drink-drank-drunk',
                'drive': 'drive-drove-driven',
                'eat': 'eat-ate-eaten',
                'fall': 'fall-fell-fallen',
                'feel': 'feel-felt-felt',
                'find': 'find-found-found',
                'fix': 'fix-fixed-fixed',
                'fly': 'fly-flew-flown',
                'get': 'get-got-got',
                'give': 'give-gave-given',
                'go': 'go-went-gone',
                'grow': 'grow-grew-grown',
                'have': 'have-had-had',
                'hear': 'hear-heard-heard',
                'know': 'know-knew-known',
                'learn': 'learn-learnt-learnt',
                'leave': 'leave-left-left',
                'lie': 'lie-lay-lain',
                'make': 'make-made-made',
                'meet': 'meet-met-met',
                'play': 'play-played-played',
                'put': 'put-put-put',
                'read': 'read-read-read',
                'run': 'run-ran-run',
                'say': 'say-said-said',
                'see': 'see-saw-seen',
                'seek': 'seek-sought-sought',
                'show': 'show-showed-shown',
                'sing': 'sing-sang-sung',
                'sit': 'sit-sat-sat',
                'sleep': 'sleep-slept-slept',
                'speak': 'speak-spoke-spoken',
                'stand': 'stand-stood-stood',
                'study': 'study-studied-studied',
                'swim': 'swim-swam-swum',
                'take': 'take-took-taken',
                'teach': 'teach-taught-taught',
                'tell': 'tell-told-told',
                'think': 'think-thought-thought',
                'throw': 'throw-threw-thrown',
                'understand': 'understand-understood-understood',
                'work': 'work-worked-worked',
                'write': 'write-wrote-written',
                'cry': 'cry-cried-cried'
            },
            
            // Tense rules
            tenseRules: {
                present: {
                    english: "Used for habits, routines, general truths, and scheduled events. It describes actions that happen regularly or are always true.",
                    russian: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –ø—Ä–∏–≤—ã—á–µ–∫, —Ä—É—Ç–∏–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π, –æ–±—â–∏—Ö –∏—Å—Ç–∏–Ω –∏ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π. –û–ø–∏—Å—ã–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–∏—Å—Ö–æ–¥—è—Ç —Ä–µ–≥—É–ª—è—Ä–Ω–æ –∏–ª–∏ –≤—Å–µ–≥–¥–∞ –≤–µ—Ä–Ω—ã."
                },
                past: {
                    english: "Used for completed actions in the past, past habits, and actions with a specific time. It describes things that are finished, often with a specific time or date.",
                    russian: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –æ–ø–∏—Å–∞–Ω–∏—è –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –≤ –ø—Ä–æ—à–ª–æ–º, –ø—Ä–æ—à–ª—ã—Ö –ø—Ä–∏–≤—ã—á–µ–∫ –∏ –¥–µ–π—Å—Ç–≤–∏–π —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤ –ø—Ä–æ—à–ª–æ–º. –û–ø–∏—Å—ã–≤–∞–µ—Ç –∑–∞–≤–µ—Ä—à–µ–Ω–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è, —á–∞—Å—Ç–æ —Å —É–∫–∞–∑–∞–Ω–∏–µ–º –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –∏–ª–∏ –¥–∞—Ç—ã. –°–æ–±—ã—Ç–∏—è –∏ —Ñ–∞–∫—Ç—ã –∏–∑ –ø—Ä–æ—à–ª–æ–≥–æ, —Å–ª–µ–¥—É—é—â–∏–µ –æ–¥–∏–Ω –∑–∞ –¥—Ä—É–≥–∏–º."
                },
                future: {
                    english: "Used for predictions, spontaneous decisions, promises, and scheduled events. It describes actions that will happen in the future, whether planned or not.",
                    russian: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–π, –æ–±–µ—â–∞–Ω–∏–π –∏ –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö —Å–æ–±—ã—Ç–∏–π. –û–ø–∏—Å—ã–≤–∞–µ—Ç –¥–µ–π—Å—Ç–≤–∏—è, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–∏–∑–æ–π–¥—É—Ç –≤ –±—É–¥—É—â–µ–º, –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –∏–ª–∏ –Ω–µ—Ç."
                },
                presentPerfect: {
                    english: "Used for actions that started in the past and continue to the present, actions at an unspecified time, actions connected to the present, and recent actions. It shows a link between the past and the present.",
                    russian: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π, –Ω–∞—á–∞–≤—à–∏—Ö—Å—è –≤ –ø—Ä–æ—à–ª–æ–º –∏ –ø—Ä–æ–¥–æ–ª–∂–∞—é—â–∏—Ö—Å—è –≤ –Ω–∞—Å—Ç–æ—è—â–µ–º (—è –ø—Ä–æ–∂–∏–ª –∑–¥–µ—Å—å 10 –ª–µ—Ç), –æ–±–æ–∑–Ω–∞—á–µ–Ω–∏—è –æ–ø—ã—Ç–∞/–ø—Ä–µ—Ü–µ–¥–µ–Ω—Ç–∞ (—è –±—ã–≤–∞–ª –≤ –ö–∞–ª–∏—Ñ–æ—Ä–Ω–∏–∏) –∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç –¥–µ–π—Å—Ç–≤–∏–π –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç (—è —Å–¥–µ–ª–∞–ª —Ä–∞–±–æ—Ç—É). –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Å–≤—è–∑—å –º–µ–∂–¥—É –ø—Ä–æ—à–ª—ã–º –∏ –Ω–∞—Å—Ç–æ—è—â–∏–º."
                },
                pastPerfect: {
                    english: "Used for actions that happened before another action in the past or before a specific time in the past, and in reported speech. It helps sequence events in the past.",
                    russian: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π, –ø—Ä–æ–∏–∑–æ—à–µ–¥—à–∏—Ö –¥–æ –¥—Ä—É–≥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –≤ –ø—Ä–æ—à–ª–æ–º –∏–ª–∏ –¥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –≤—Ä–µ–º–µ–Ω–∏ –≤ –ø—Ä–æ—à–ª–æ–º, –∞ —Ç–∞–∫–∂–µ –≤ –∫–æ—Å–≤–µ–Ω–Ω–æ–π —Ä–µ—á–∏. –ü–æ–º–æ–≥–∞–µ—Ç —É–ø–æ—Ä—è–¥–æ—á–∏—Ç—å —Å–æ–±—ã—Ç–∏—è –≤ –ø—Ä–æ—à–ª–æ–º."
                },
                presentContinuous: {
                    english: "Used for actions happening right now, temporary situations, planned future arrangements, and annoying habits. Describes ongoing actions at the moment of speaking.",
                    russian: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π, –ø—Ä–æ–∏—Å—Ö–æ–¥—è—â–∏—Ö –ø—Ä—è–º–æ —Å–µ–π—á–∞—Å, –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å–∏—Ç—É–∞—Ü–∏–π, –∑–∞–ø–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –±—É–¥—É—â–∏—Ö –º–µ—Ä–æ–ø—Ä–∏—è—Ç–∏–π –∏ —Ä–∞–∑–¥—Ä–∞–∂–∞—é—â–∏—Ö –ø—Ä–∏–≤—ã—á–µ–∫. –û–ø–∏—Å—ã–≤–∞–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∞—é—â–∏–µ—Å—è –¥–µ–π—Å—Ç–≤–∏—è –≤ –º–æ–º–µ–Ω—Ç —Ä–µ—á–∏."
                },
                pastContinuous: {
                    english: "Used for actions that were in progress at a specific time in the past, background actions, interrupted actions, and parallel actions in the past.",
                    russian: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏–ª–∏ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤ –ø—Ä–æ—à–ª–æ–º, —Ñ–æ–Ω–æ–≤—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π, –ø—Ä–µ—Ä–≤–∞–Ω–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –∏ –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω—ã—Ö –¥–µ–π—Å—Ç–≤–∏–π –≤ –ø—Ä–æ—à–ª–æ–º."
                },
                futureContinuous: {
                    english: "Used for actions that will be in progress at a specific time in the future, polite inquiries about plans, and events that will happen as a matter of course.",
                    russian: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥—É—Ç –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç—å –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç –≤ –±—É–¥—É—â–µ–º, –≤–µ–∂–ª–∏–≤—ã—Ö –≤–æ–ø—Ä–æ—Å–æ–≤ –æ –ø–ª–∞–Ω–∞—Ö –∏ —Å–æ–±—ã—Ç–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–∏–∑–æ–π–¥—É—Ç –µ—Å—Ç–µ—Å—Ç–≤–µ–Ω–Ω—ã–º –æ–±—Ä–∞–∑–æ–º."
                },
                presentPerfectContinuous: {
                    english: "Used for actions that started in the past and are still continuing, or have just stopped but have present results. Emphasizes the duration of the action.",
                    russian: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞—á–∞–ª–∏—Å—å –≤ –ø—Ä–æ—à–ª–æ–º –∏ –≤—Å–µ –µ—â–µ –ø—Ä–æ–¥–æ–ª–∂–∞—é—Ç—Å—è, –∏–ª–∏ —Ç–æ–ª—å–∫–æ —á—Ç–æ –∑–∞–∫–æ–Ω—á–∏–ª–∏—Å—å, –Ω–æ –∏–º–µ—é—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤ –Ω–∞—Å—Ç–æ—è—â–µ–º. –ü–æ–¥—á–µ—Ä–∫–∏–≤–∞–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è."
                },
                pastPerfectContinuous: {
                    english: "Used for actions that had been in progress before another action or time in the past. Shows the duration of an action up to a certain point in the past.",
                    russian: "–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –¥–ª—è –¥–µ–π—Å—Ç–≤–∏–π, –∫–æ—Ç–æ—Ä—ã–µ –ø—Ä–æ–¥–æ–ª–∂–∞–ª–∏—Å—å –¥–æ –¥—Ä—É–≥–æ–≥–æ –¥–µ–π—Å—Ç–≤–∏—è –∏–ª–∏ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º. –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –¥–µ–π—Å—Ç–≤–∏—è –¥–æ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º."
                }
            },
            
            // Russian past tense forms
            russianPastForms: {
                'be': { base: '–±—ã–ª', f: '–±—ã–ª–∞', n: '–±—ã–ª–æ', pl: '–±—ã–ª–∏' },
                'beat': { base: '–±–∏–ª', f: '–±–∏–ª–∞', n: '–±–∏–ª–æ', pl: '–±–∏–ª–∏' },
                'become': { base: '—Å—Ç–∞–ª', f: '—Å—Ç–∞–ª–∞', n: '—Å—Ç–∞–ª–æ', pl: '—Å—Ç–∞–ª–∏' },
                'begin': { base: '–Ω–∞—á–∞–ª', f: '–Ω–∞—á–∞–ª–∞', n: '–Ω–∞—á–∞–ª–æ', pl: '–Ω–∞—á–∞–ª–∏' },
                'break': { base: '–ª–æ–º–∞–ª', f: '–ª–æ–º–∞–ª–∞', n: '–ª–æ–º–∞–ª–æ', pl: '–ª–æ–º–∞–ª–∏' },
                'bring': { base: '–ø—Ä–∏–Ω—ë—Å', f: '–ø—Ä–∏–Ω–µ—Å–ª–∞', n: '–ø—Ä–∏–Ω–µ—Å–ª–æ', pl: '–ø—Ä–∏–Ω–µ—Å–ª–∏' },
                'build': { base: '—Å—Ç—Ä–æ–∏–ª', f: '—Å—Ç—Ä–æ–∏–ª–∞', n: '—Å—Ç—Ä–æ–∏–ª–æ', pl: '—Å—Ç—Ä–æ–∏–ª–∏' },
                'buy': { base: '–∫—É–ø–∏–ª', f: '–∫—É–ø–∏–ª–∞', n: '–∫—É–ø–∏–ª–æ', pl: '–∫—É–ø–∏–ª–∏' },
                'catch': { base: '–ø–æ–π–º–∞–ª', f: '–ø–æ–π–º–∞–ª–∞', n: '–ø–æ–π–º–∞–ª–æ', pl: '–ø–æ–π–º–∞–ª–∏' },
                'choose': { base: '–≤—ã–±—Ä–∞–ª', f: '–≤—ã–±—Ä–∞–ª–∞', n: '–≤—ã–±—Ä–∞–ª–æ', pl: '–≤—ã–±—Ä–∞–ª–∏' },
                'cost': { base: '—Å—Ç–æ–∏–ª', f: '—Å—Ç–æ–∏–ª–∞', n: '—Å—Ç–æ–∏–ª–æ', pl: '—Å—Ç–æ–∏–ª–∏' },
                'cost': { base: '—Å—Ç–æ–∏–ª', f: '—Å—Ç–æ–∏–ª–∞', n: '—Å—Ç–æ–∏–ª–æ', pl: '—Å—Ç–æ–∏–ª–∏' },
                'do': { base: '–¥–µ–ª–∞–ª', f: '–¥–µ–ª–∞–ª–∞', n: '–¥–µ–ª–∞–ª–æ', pl: '–¥–µ–ª–∞–ª–∏' },
                'draw': { base: '—Ä–∏—Å–æ–≤–∞–ª', f: '—Ä–∏—Å–æ–≤–∞–ª–∞', n: '—Ä–∏—Å–æ–≤–∞–ª–æ', pl: '—Ä–∏—Å–æ–≤–∞–ª–∏' },
                'dream': { base: '–º–µ—á—Ç–∞–ª', f: '–º–µ—á—Ç–∞–ª–∞', n: '–º–µ—á—Ç–∞–ª–æ', pl: '–º–µ—á—Ç–∞–ª–∏' },
                'drink': { base: '–ø–∏–ª', f: '–ø–∏–ª–∞', n: '–ø–∏–ª–æ', pl: '–ø–∏–ª–∏' },
                'drive': { base: '–≤–æ–¥–∏–ª', f: '–≤–æ–¥–∏–ª–∞', n: '–≤–æ–¥–∏–ª–æ', pl: '–≤–æ–¥–∏–ª–∏' },
                'eat': { base: '–µ–ª', f: '–µ–ª–∞', n: '–µ–ª–æ', pl: '–µ–ª–∏' },
                'fall': { base: '–ø–∞–¥–∞–ª', f: '–ø–∞–¥–∞–ª–∞', n: '–ø–∞–¥–∞–ª–æ', pl: '–ø–∞–¥–∞–ª–∏' },
                'feel': { base: '—á—É–≤—Å—Ç–≤–æ–≤–∞–ª', f: '—á—É–≤—Å—Ç–≤–æ–≤–∞–ª–∞', n: '—á—É–≤—Å—Ç–≤–æ–≤–∞–ª–æ', pl: '—á—É–≤—Å—Ç–≤–æ–≤–∞–ª–∏' },
                'find': { base: '–Ω–∞—à—ë–ª', f: '–Ω–∞—à–ª–∞', n: '–Ω–∞—à–ª–æ', pl: '–Ω–∞—à–ª–∏' },
                'fix': { base: '—á–∏–Ω–∏–ª', f: '—á–∏–Ω–∏–ª–∞', n: '—á–∏–Ω–∏–ª–æ', pl: '—á–∏–Ω–∏–ª–∏' },
                'fly': { base: '–ª–µ—Ç–∞–ª', f: '–ª–µ—Ç–∞–ª–∞', n: '–ª–µ—Ç–∞–ª–æ', pl: '–ª–µ—Ç–∞–ª–∏' },
                'get': { base: '–ø–æ–ª—É—á–∏–ª', f: '–ø–æ–ª—É—á–∏–ª–∞', n: '–ø–æ–ª—É—á–∏–ª–æ', pl: '–ø–æ–ª—É—á–∏–ª–∏' },
                'give': { base: '–¥–∞–ª', f: '–¥–∞–ª–∞', n: '–¥–∞–ª–æ', pl: '–¥–∞–ª–∏' },
                'go': { base: '—à—ë–ª', f: '—à–ª–∞', n: '—à–ª–æ', pl: '—à–ª–∏' },
                'grow': { base: '—Ä–æ—Å', f: '—Ä–æ—Å–ª–∞', n: '—Ä–æ—Å–ª–æ', pl: '—Ä–æ—Å–ª–∏' },
                'have': { base: '–∏–º–µ–ª', f: '–∏–º–µ–ª–∞', n: '–∏–º–µ–ª–æ', pl: '–∏–º–µ–ª–∏' },
                'hear': { base: '—Å–ª—ã—à–∞–ª', f: '—Å–ª—ã—à–∞–ª–∞', n: '—Å–ª—ã—à–∞–ª–æ', pl: '—Å–ª—ã—à–∞–ª–∏' },
                'know': { base: '–∑–Ω–∞–ª', f: '–∑–Ω–∞–ª–∞', n: '–∑–Ω–∞–ª–æ', pl: '–∑–Ω–∞–ª–∏' },
                'learn': { base: '—É—á–∏–ª—Å—è', f: '—É—á–∏–ª–∞—Å—å', n: '—É—á–∏–ª–æ—Å—å', pl: '—É—á–∏–ª–∏—Å—å' },
                'leave': { base: '—É—à—ë–ª', f: '—É—à–ª–∞', n: '—É—à–ª–æ', pl: '—É—à–ª–∏' },
                'lie': { base: '–ª–µ–∂–∞–ª', f: '–ª–µ–∂–∞–ª–∞', n: '–ª–µ–∂–∞–ª–æ', pl: '–ª–µ–∂–∞–ª–∏' },
                'make': { base: '–¥–µ–ª–∞–ª', f: '–¥–µ–ª–∞–ª–∞', n: '–¥–µ–ª–∞–ª–æ', pl: '–¥–µ–ª–∞–ª–∏' },
                'meet': { base: '–≤—Å—Ç—Ä–µ—Ç–∏–ª', f: '–≤—Å—Ç—Ä–µ—Ç–∏–ª–∞', n: '–≤—Å—Ç—Ä–µ—Ç–∏–ª–æ', pl: '–≤—Å—Ç—Ä–µ—Ç–∏–ª–∏' },
                'play': { base: '–∏–≥—Ä–∞–ª', f: '–∏–≥—Ä–∞–ª–∞', n: '–∏–≥—Ä–∞–ª–æ', pl: '–∏–≥—Ä–∞–ª–∏' },
                'put': { base: '–ø–æ–ª–æ–∂–∏–ª', f: '–ø–æ–ª–æ–∂–∏–ª–∞', n: '–ø–æ–ª–æ–∂–∏–ª–æ', pl: '–ø–æ–ª–æ–∂–∏–ª–∏' },
                'read': { base: '—á–∏—Ç–∞–ª', f: '—á–∏—Ç–∞–ª–∞', n: '—á–∏—Ç–∞–ª–æ', pl: '—á–∏—Ç–∞–ª–∏' },
                'run': { base: '–±–µ–∂–∞–ª', f: '–±–µ–∂–∞–ª–∞', n: '–±–µ–∂–∞–ª–æ', pl: '–±–µ–∂–∞–ª–∏' },
                'say': { base: '—Å–∫–∞–∑–∞–ª', f: '—Å–∫–∞–∑–∞–ª–∞', n: '—Å–∫–∞–∑–∞–ª–æ', pl: '—Å–∫–∞–∑–∞–ª–∏' },
                'see': { base: '–≤–∏–¥–µ–ª', f: '–≤–∏–¥–µ–ª–∞', n: '–≤–∏–¥–µ–ª–æ', pl: '–≤–∏–¥–µ–ª–∏' },
                'seek': { base: '–∏—Å–∫–∞–ª', f: '–∏—Å–∫–∞–ª–∞', n: '–∏—Å–∫–∞–ª–æ', pl: '–∏—Å–∫–∞–ª–∏' },
                'show': { base: '–ø–æ–∫–∞–∑–∞–ª', f: '–ø–æ–∫–∞–∑–∞–ª–∞', n: '–ø–æ–∫–∞–∑–∞–ª–æ', pl: '–ø–æ–∫–∞–∑–∞–ª–∏' },
                'sing': { base: '–ø–µ–ª', f: '–ø–µ–ª–∞', n: '–ø–µ–ª–æ', pl: '–ø–µ–ª–∏' },
                'sit': { base: '—Å–∏–¥–µ–ª', f: '—Å–∏–¥–µ–ª–∞', n: '—Å–∏–¥–µ–ª–æ', pl: '—Å–∏–¥–µ–ª–∏' },
                'sleep': { base: '—Å–ø–∞–ª', f: '—Å–ø–∞–ª–∞', n: '—Å–ø–∞–ª–æ', pl: '—Å–ø–∞–ª–∏' },
                'speak': { base: '–≥–æ–≤–æ—Ä–∏–ª', f: '–≥–æ–≤–æ—Ä–∏–ª–∞', n: '–≥–æ–≤–æ—Ä–∏–ª–æ', pl: '–≥–æ–≤–æ—Ä–∏–ª–∏' },
                'stand': { base: '—Å—Ç–æ—è–ª', f: '—Å—Ç–æ—è–ª–∞', n: '—Å—Ç–æ—è–ª–æ', pl: '—Å—Ç–æ—è–ª–∏' },
                'study': { base: '—É—á–∏–ª—Å—è', f: '—É—á–∏–ª–∞—Å—å', n: '—É—á–∏–ª–æ—Å—å', pl: '—É—á–∏–ª–∏—Å—å' },
                'swim': { base: '–ø–ª–∞–≤–∞–ª', f: '–ø–ª–∞–≤–∞–ª–∞', n: '–ø–ª–∞–≤–∞–ª–æ', pl: '–ø–ª–∞–≤–∞–ª–∏' },
                'take': { base: '–≤–∑—è–ª', f: '–≤–∑—è–ª–∞', n: '–≤–∑—è–ª–æ', pl: '–≤–∑—è–ª–∏' },
                'teach': { base: '—É—á–∏–ª', f: '—É—á–∏–ª–∞', n: '—É—á–∏–ª–æ', pl: '—É—á–∏–ª–∏' },
                'tell': { base: '—Ä–∞—Å—Å–∫–∞–∑–∞–ª', f: '—Ä–∞—Å—Å–∫–∞–∑–∞–ª–∞', n: '—Ä–∞—Å—Å–∫–∞–∑–∞–ª–æ', pl: '—Ä–∞—Å—Å–∫–∞–∑–∞–ª–∏' },
                'think': { base: '–¥—É–º–∞–ª', f: '–¥—É–º–∞–ª–∞', n: '–¥—É–º–∞–ª–æ', pl: '–¥—É–º–∞–ª–∏' },
                'throw': { base: '–±—Ä–æ—Å–∏–ª', f: '–±—Ä–æ—Å–∏–ª–∞', n: '–±—Ä–æ—Å–∏–ª–æ', pl: '–±—Ä–æ—Å–∏–ª–∏' },
                'understand': { base: '–ø–æ–Ω—è–ª', f: '–ø–æ–Ω—è–ª–∞', n: '–ø–æ–Ω—è–ª–æ', pl: '–ø–æ–Ω—è–ª–∏' },
                'work': { base: '—Ä–∞–±–æ—Ç–∞–ª', f: '—Ä–∞–±–æ—Ç–∞–ª–∞', n: '—Ä–∞–±–æ—Ç–∞–ª–æ', pl: '—Ä–∞–±–æ—Ç–∞–ª–∏' },
                'write': { base: '–ø–∏—Å–∞–ª', f: '–ø–∏—Å–∞–ª–∞', n: '–ø–∏—Å–∞–ª–æ', pl: '–ø–∏—Å–∞–ª–∏' },
                'cry': { base: '–ø–ª–∞–∫–∞–ª', f: '–ø–ª–∞–∫–∞–ª–∞', n: '–ø–ª–∞–∫–∞–ª–æ', pl: '–ø–ª–∞–∫–∞–ª–∏' }
            },
            
            // Verb dictionary - initialized below
            verbDictionary: {}
        };

        // Utility functions
        const utils = {
            // Get -ing form of verb
            getIngForm(verb) {
                // Special cases dictionary
                const specialForms = {
                    'be': 'being',
                    'die': 'dying',
                    'lie': 'lying',
                    'tie': 'tying',
                    'see': 'seeing',
                    'flee': 'fleeing',
                    'free': 'freeing',
                    'agree': 'agreeing',
                    'dye': 'dyeing',
                    'hoe': 'hoeing',
                    'shoe': 'shoeing',
                    'canoe': 'canoeing',
                    'eye': 'eyeing'
                };
                
                if (specialForms[verb]) return specialForms[verb];
                
                // Double final consonant cases
                const doubleConsonant = {
                    'begin': 'beginning',
                    'swim': 'swimming',
                    'run': 'running',
                    'sit': 'sitting',
                    'put': 'putting',
                    'get': 'getting',
                    'stop': 'stopping',
                    'plan': 'planning',
                    'forget': 'forgetting',
                    'prefer': 'preferring',
                    'permit': 'permitting',
                    'regret': 'regretting',
                    'admit': 'admitting',
                    'occur': 'occurring',
                    'refer': 'referring',
                    'transfer': 'transferring',
                    'control': 'controlling',
                    'travel': 'travelling'
                };
                
                if (doubleConsonant[verb]) return doubleConsonant[verb];
                
                // Rule: -ie ending changes to -ying
                if (verb.endsWith('ie')) {
                    return verb.slice(0, -2) + 'ying';
                }
                
                // Rule: -e ending (but not -ee, -oe, -ye)
                if (verb.endsWith('e') && !verb.endsWith('ee') && 
                    !verb.endsWith('oe') && !verb.endsWith('ye')) {
                    return verb.slice(0, -1) + 'ing';
                }
                
                // Rule: -y ending stays
                if (verb.endsWith('y')) {
                    return verb + 'ing';
                }
                
                // Default: just add -ing
                return verb + 'ing';
            },
            
            // Get appropriate wh-question word based on verb
            getWhQuestionWord(verb, tense) {
                const whQuestions = {
                    // Movement verbs
                    'go': 'Where',
                    'come': 'Where',
                    'run': 'Where',
                    'walk': 'Where',
                    'fly': 'Where',
                    'drive': 'Where',
                    'swim': 'Where',
                    'leave': 'Where',
                    
                    // Action/creation verbs
                    'do': 'What',
                    'make': 'What',
                    'build': 'What',
                    'create': 'What',
                    'draw': 'What',
                    'write': 'What',
                    'cook': 'What',
                    'eat': 'What',
                    'drink': 'What',
                    'buy': 'What',
                    'sell': 'What',
                    'bring': 'What',
                    'take': 'What',
                    'give': 'What',
                    'get': 'What',
                    'find': 'What',
                    'lose': 'What',
                    'break': 'What',
                    'fix': 'What',
                    'choose': 'What',
                    
                    // Communication verbs
                    'say': 'What',
                    'tell': 'What',
                    'speak': 'What language',
                    'talk': 'What...about',
                    
                    // Perception verbs
                    'see': 'What',
                    'hear': 'What',
                    'feel': 'How',
                    'smell': 'What',
                    'taste': 'What',
                    
                    // Time-based verbs
                    'wait': 'Who...for',
                    'sleep': 'Where',
                    'wake': 'What time',
                    'start': 'What',
                    'begin': 'What',
                    'finish': 'What',
                    'end': 'What',
                    
                    // Cognitive verbs
                    'think': 'What...about',
                    'know': 'What',
                    'understand': 'What',
                    'learn': 'What',
                    'teach': 'What',
                    'study': 'What',
                    'read': 'What',
                    
                    // State/condition verbs
                    'be': 'Who',
                    'become': 'What',
                    'seem': 'How',
                    'appear': 'How',
                    'look': 'How',
                    'sound': 'How',
                    
                    // Social verbs
                    'meet': 'Who',
                    'work': 'Where',
                    'play': 'What',
                    'live': 'Where',
                    'stay': 'Where',
                    
                    // Other verbs
                    'cost': 'How much',
                    'stand': 'Where',
                    'sit': 'Where',
                    'lie': 'Where',
                    'fall': 'Where',
                    'grow': 'How',
                    'throw': 'What',
                    'catch': 'What',
                    'seek': 'What',
                    'show': 'What',
                    'put': 'Where',
                    'have': 'What',
                    'sing': 'What',
                    'cry': 'Why',
                    'beat': 'Who',
                    'dream': 'What...about'
                };
                
                // For continuous tenses with duration focus
                if (tense && (tense.includes('PerfectContinuous'))) {
                    return 'How long';
                }
                
                return whQuestions[verb] || 'What';
            },
            
            // Format wh-question with proper preposition placement
            formatWhQuestion(whWord, auxPattern, verb) {
                // Handle undefined or null values
                if (!whWord || !auxPattern || !verb) {
                    return `What ${auxPattern} ${verb}?`;
                }
                
                // Check if whWord contains "..." indicating split placement
                if (whWord.includes('...')) {
                    const parts = whWord.split('...');
                    const whPart = parts[0];
                    const prepPart = parts[1];
                    return `${whPart} ${auxPattern} ${verb} ${prepPart}?`;
                }
                
                // Normal wh-question
                return `${whWord} ${auxPattern} ${verb}?`;
            },
            
            // Get past participle
            getPastParticiple(verb) {
                const irregularParticiples = {
                    'beat': 'beaten',
                    'become': 'become',
                    'begin': 'begun',
                    'break': 'broken',
                    'bring': 'brought',
                    'build': 'built',
                    'buy': 'bought',
                    'catch': 'caught',
                    'choose': 'chosen',
                    'come': 'come',
                    'cost': 'cost',
                    'draw': 'drawn',
                    'dream': 'dreamt',
                    'drink': 'drunk',
                    'drive': 'driven',
                    'eat': 'eaten',
                    'fall': 'fallen',
                    'feel': 'felt',
                    'find': 'found',
                    'fly': 'flown',
                    'get': 'got',
                    'give': 'given',
                    'grow': 'grown',
                    'hear': 'heard',
                    'know': 'known',
                    'learn': 'learnt',
                    'leave': 'left',
                    'lie': 'lain',
                    'make': 'made',
                    'meet': 'met',
                    'put': 'put',
                    'read': 'read',
                    'run': 'run',
                    'say': 'said',
                    'seek': 'sought',
                    'show': 'shown',
                    'sing': 'sung',
                    'sit': 'sat',
                    'sleep': 'slept',
                    'speak': 'spoken',
                    'stand': 'stood',
                    'swim': 'swum',
                    'take': 'taken',
                    'teach': 'taught',
                    'tell': 'told',
                    'think': 'thought',
                    'throw': 'thrown',
                    'understand': 'understood',
                    'write': 'written',
                    'fix': 'fixed',
                    'play': 'played',
                    'study': 'studied',
                    'work': 'worked',
                    'cry': 'cried'
                };
                
                return irregularParticiples[verb] || verb + 'ed';
            }
        };

        // Initialize verb dictionary with basic verbs
        function initializeVerbDictionary() {
            // Basic verb structures  
            const basicVerbs = {
                'be': {
                    present: {
                        'I': { positive: 'I am', negative: 'I am not', question: 'Am I?', whQuestion: 'Who am I?', russian: '–Ø –µ—Å—Ç—å' },
                        'you': { positive: 'you are', negative: 'you are not', question: 'Are you?', whQuestion: 'Who are you?', russian: '—Ç—ã –µ—Å—Ç—å' },
                        'he': { positive: 'he is', negative: 'he is not', question: 'Is he?', whQuestion: 'Who is he?', russian: '–æ–Ω –µ—Å—Ç—å' },
                        'she': { positive: 'she is', negative: 'she is not', question: 'Is she?', whQuestion: 'Who is she?', russian: '–æ–Ω–∞ –µ—Å—Ç—å' },
                        'it': { positive: 'it is', negative: 'it is not', question: 'Is it?', whQuestion: 'What is it?', russian: '–æ–Ω–æ –µ—Å—Ç—å' },
                        'we': { positive: 'we are', negative: 'we are not', question: 'Are we?', whQuestion: 'Who are we?', russian: '–º—ã –µ—Å—Ç—å' },
                        'they': { positive: 'they are', negative: 'they are not', question: 'Are they?', whQuestion: 'Who are they?', russian: '–æ–Ω–∏ –µ—Å—Ç—å' }
                    },
                    past: {
                        'I': { positive: 'I was', negative: 'I was not', question: 'Was I?', whQuestion: 'Who was I?', russian: '–Ø –±—ã–ª/–±—ã–ª–∞' },
                        'you': { positive: 'you were', negative: 'you were not', question: 'Were you?', whQuestion: 'Who were you?', russian: '—Ç—ã –±—ã–ª/–±—ã–ª–∞' },
                        'he': { positive: 'he was', negative: 'he was not', question: 'Was he?', whQuestion: 'Who was he?', russian: '–æ–Ω –±—ã–ª' },
                        'she': { positive: 'she was', negative: 'she was not', question: 'Was she?', whQuestion: 'Who was she?', russian: '–æ–Ω–∞ –±—ã–ª–∞' },
                        'it': { positive: 'it was', negative: 'it was not', question: 'Was it?', whQuestion: 'What was it?', russian: '–æ–Ω–æ –±—ã–ª–æ' },
                        'we': { positive: 'we were', negative: 'we were not', question: 'Were we?', whQuestion: 'Who were we?', russian: '–º—ã –±—ã–ª–∏' },
                        'they': { positive: 'they were', negative: 'they were not', question: 'Were they?', whQuestion: 'Who were they?', russian: '–æ–Ω–∏ –±—ã–ª–∏' }
                    },
                    future: {
                        'I': { positive: 'I will be', negative: 'I will not be', question: 'Will I be?', whQuestion: 'Who will I be?', russian: '–Ø –±—É–¥—É' },
                        'you': { positive: 'you will be', negative: 'you will not be', question: 'Will you be?', whQuestion: 'Who will you be?', russian: '—Ç—ã –±—É–¥–µ—à—å' },
                        'he': { positive: 'he will be', negative: 'he will not be', question: 'Will he be?', whQuestion: 'Who will he be?', russian: '–æ–Ω –±—É–¥–µ—Ç' },
                        'she': { positive: 'she will be', negative: 'she will not be', question: 'Will she be?', whQuestion: 'Who will she be?', russian: '–æ–Ω–∞ –±—É–¥–µ—Ç' },
                        'it': { positive: 'it will be', negative: 'it will not be', question: 'Will it be?', whQuestion: 'What will it be?', russian: '–æ–Ω–æ –±—É–¥–µ—Ç' },
                        'we': { positive: 'we will be', negative: 'we will not be', question: 'Will we be?', whQuestion: 'Who will we be?', russian: '–º—ã –±—É–¥–µ–º' },
                        'they': { positive: 'they will be', negative: 'they will not be', question: 'Will they be?', whQuestion: 'Who will they be?', russian: '–æ–Ω–∏ –±—É–¥—É—Ç' }
                    },
                    presentPerfect: {
                        'I': { positive: 'I have been', negative: "I haven't been", question: 'Have I been?', whQuestion: 'Where have I been?', russian: '–Ø –±—ã–ª/–±—ã–ª–∞' },
                        'you': { positive: 'you have been', negative: "you haven't been", question: 'Have you been?', whQuestion: 'Where have you been?', russian: '—Ç—ã –±—ã–ª/–±—ã–ª–∞' },
                        'he': { positive: 'he has been', negative: "he hasn't been", question: 'Has he been?', whQuestion: 'Where has he been?', russian: '–æ–Ω –±—ã–ª' },
                        'she': { positive: 'she has been', negative: "she hasn't been", question: 'Has she been?', whQuestion: 'Where has she been?', russian: '–æ–Ω–∞ –±—ã–ª–∞' },
                        'it': { positive: 'it has been', negative: "it hasn't been", question: 'Has it been?', whQuestion: 'What has it been?', russian: '–æ–Ω–æ –±—ã–ª–æ' },
                        'we': { positive: 'we have been', negative: "we haven't been", question: 'Have we been?', whQuestion: 'Where have we been?', russian: '–º—ã –±—ã–ª–∏' },
                        'they': { positive: 'they have been', negative: "they haven't been", question: 'Have they been?', whQuestion: 'Where have they been?', russian: '–æ–Ω–∏ –±—ã–ª–∏' }
                    },
                    pastPerfect: {
                        'I': { positive: 'I had been', negative: "I hadn't been", question: 'Had I been?', whQuestion: 'Where had I been?', russian: '–Ø –±—ã–ª/–±—ã–ª–∞ (–¥–æ —Ç–æ–≥–æ)' },
                        'you': { positive: 'you had been', negative: "you hadn't been", question: 'Had you been?', whQuestion: 'Where had you been?', russian: '—Ç—ã –±—ã–ª/–±—ã–ª–∞ (–¥–æ —Ç–æ–≥–æ)' },
                        'he': { positive: 'he had been', negative: "he hadn't been", question: 'Had he been?', whQuestion: 'Where had he been?', russian: '–æ–Ω –±—ã–ª (–¥–æ —Ç–æ–≥–æ)' },
                        'she': { positive: 'she had been', negative: "she hadn't been", question: 'Had she been?', whQuestion: 'Where had she been?', russian: '–æ–Ω–∞ –±—ã–ª–∞ (–¥–æ —Ç–æ–≥–æ)' },
                        'it': { positive: 'it had been', negative: "it hadn't been", question: 'Had it been?', whQuestion: 'What had it been?', russian: '–æ–Ω–æ –±—ã–ª–æ (–¥–æ —Ç–æ–≥–æ)' },
                        'we': { positive: 'we had been', negative: "we hadn't been", question: 'Had we been?', whQuestion: 'Where had we been?', russian: '–º—ã –±—ã–ª–∏ (–¥–æ —Ç–æ–≥–æ)' },
                        'they': { positive: 'they had been', negative: "they hadn't been", question: 'Had they been?', whQuestion: 'Where had they been?', russian: '–æ–Ω–∏ –±—ã–ª–∏ (–¥–æ —Ç–æ–≥–æ)' }
                    },
                    presentContinuous: {
                        'I': { positive: 'I am being', negative: 'I am not being', question: 'Am I being?', whQuestion: 'How am I being?', russian: '–Ø –µ—Å—Ç—å (—Å–µ–π—á–∞—Å)' },
                        'you': { positive: 'you are being', negative: 'you are not being', question: 'Are you being?', whQuestion: 'How are you being?', russian: '—Ç—ã –µ—Å—Ç—å (—Å–µ–π—á–∞—Å)' },
                        'he': { positive: 'he is being', negative: 'he is not being', question: 'Is he being?', whQuestion: 'How is he being?', russian: '–æ–Ω –µ—Å—Ç—å (—Å–µ–π—á–∞—Å)' },
                        'she': { positive: 'she is being', negative: 'she is not being', question: 'Is she being?', whQuestion: 'How is she being?', russian: '–æ–Ω–∞ –µ—Å—Ç—å (—Å–µ–π—á–∞—Å)' },
                        'it': { positive: 'it is being', negative: 'it is not being', question: 'Is it being?', whQuestion: 'How is it being?', russian: '–æ–Ω–æ –µ—Å—Ç—å (—Å–µ–π—á–∞—Å)' },
                        'we': { positive: 'we are being', negative: 'we are not being', question: 'Are we being?', whQuestion: 'How are we being?', russian: '–º—ã –µ—Å—Ç—å (—Å–µ–π—á–∞—Å)' },
                        'they': { positive: 'they are being', negative: 'they are not being', question: 'Are they being?', whQuestion: 'How are they being?', russian: '–æ–Ω–∏ –µ—Å—Ç—å (—Å–µ–π—á–∞—Å)' }
                    },
                    pastContinuous: {
                        'I': { positive: 'I was being', negative: 'I was not being', question: 'Was I being?', whQuestion: 'How was I being?', russian: '–Ø –±—ã–ª/–±—ã–ª–∞ (–≤ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç)' },
                        'you': { positive: 'you were being', negative: 'you were not being', question: 'Were you being?', whQuestion: 'How were you being?', russian: '—Ç—ã –±—ã–ª/–±—ã–ª–∞ (–≤ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç)' },
                        'he': { positive: 'he was being', negative: 'he was not being', question: 'Was he being?', whQuestion: 'How was he being?', russian: '–æ–Ω –±—ã–ª (–≤ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç)' },
                        'she': { positive: 'she was being', negative: 'she was not being', question: 'Was she being?', whQuestion: 'How was she being?', russian: '–æ–Ω–∞ –±—ã–ª–∞ (–≤ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç)' },
                        'it': { positive: 'it was being', negative: 'it was not being', question: 'Was it being?', whQuestion: 'How was it being?', russian: '–æ–Ω–æ –±—ã–ª–æ (–≤ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç)' },
                        'we': { positive: 'we were being', negative: 'we were not being', question: 'Were we being?', whQuestion: 'How were we being?', russian: '–º—ã –±—ã–ª–∏ (–≤ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç)' },
                        'they': { positive: 'they were being', negative: 'they were not being', question: 'Were they being?', whQuestion: 'How were they being?', russian: '–æ–Ω–∏ –±—ã–ª–∏ (–≤ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç)' }
                    },
                    futureContinuous: {
                        'I': { positive: 'I will be being', negative: "I won't be being", question: 'Will I be being?', whQuestion: 'How will I be being?', russian: '–Ø –±—É–¥—É (–≤ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç)' },
                        'you': { positive: 'you will be being', negative: "you won't be being", question: 'Will you be being?', whQuestion: 'How will you be being?', russian: '—Ç—ã –±—É–¥–µ—à—å (–≤ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç)' },
                        'he': { positive: 'he will be being', negative: "he won't be being", question: 'Will he be being?', whQuestion: 'How will he be being?', russian: '–æ–Ω –±—É–¥–µ—Ç (–≤ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç)' },
                        'she': { positive: 'she will be being', negative: "she won't be being", question: 'Will she be being?', whQuestion: 'How will she be being?', russian: '–æ–Ω–∞ –±—É–¥–µ—Ç (–≤ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç)' },
                        'it': { positive: 'it will be being', negative: "it won't be being", question: 'Will it be being?', whQuestion: 'How will it be being?', russian: '–æ–Ω–æ –±—É–¥–µ—Ç (–≤ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç)' },
                        'we': { positive: 'we will be being', negative: "we won't be being", question: 'Will we be being?', whQuestion: 'How will we be being?', russian: '–º—ã –±—É–¥–µ–º (–≤ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç)' },
                        'they': { positive: 'they will be being', negative: "they won't be being", question: 'Will they be being?', whQuestion: 'How will they be being?', russian: '–æ–Ω–∏ –±—É–¥—É—Ç (–≤ —Ç–æ—Ç –º–æ–º–µ–Ω—Ç)' }
                    },
                    presentPerfectContinuous: {
                        'I': { positive: 'I have been being', negative: "I haven't been being", question: 'Have I been being?', whQuestion: 'How long have I been being?', russian: '–Ø –µ—Å—Ç—å (—É–∂–µ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è)' },
                        'you': { positive: 'you have been being', negative: "you haven't been being", question: 'Have you been being?', whQuestion: 'How long have you been being?', russian: '—Ç—ã –µ—Å—Ç—å (—É–∂–µ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è)' },
                        'he': { positive: 'he has been being', negative: "he hasn't been being", question: 'Has he been being?', whQuestion: 'How long has he been being?', russian: '–æ–Ω –µ—Å—Ç—å (—É–∂–µ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è)' },
                        'she': { positive: 'she has been being', negative: "she hasn't been being", question: 'Has she been being?', whQuestion: 'How long has she been being?', russian: '–æ–Ω–∞ –µ—Å—Ç—å (—É–∂–µ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è)' },
                        'it': { positive: 'it has been being', negative: "it hasn't been being", question: 'Has it been being?', whQuestion: 'How long has it been being?', russian: '–æ–Ω–æ –µ—Å—Ç—å (—É–∂–µ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è)' },
                        'we': { positive: 'we have been being', negative: "we haven't been being", question: 'Have we been being?', whQuestion: 'How long have we been being?', russian: '–º—ã –µ—Å—Ç—å (—É–∂–µ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è)' },
                        'they': { positive: 'they have been being', negative: "they haven't been being", question: 'Have they been being?', whQuestion: 'How long have they been being?', russian: '–æ–Ω–∏ –µ—Å—Ç—å (—É–∂–µ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è)' }
                    },
                    pastPerfectContinuous: {
                        'I': { positive: 'I had been being', negative: "I hadn't been being", question: 'Had I been being?', whQuestion: 'How long had I been being?', russian: '–Ø –±—ã–ª/–±—ã–ª–∞ (–¥–æ —Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞)' },
                        'you': { positive: 'you had been being', negative: "you hadn't been being", question: 'Had you been being?', whQuestion: 'How long had you been being?', russian: '—Ç—ã –±—ã–ª/–±—ã–ª–∞ (–¥–æ —Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞)' },
                        'he': { positive: 'he had been being', negative: "he hadn't been being", question: 'Had he been being?', whQuestion: 'How long had he been being?', russian: '–æ–Ω –±—ã–ª (–¥–æ —Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞)' },
                        'she': { positive: 'she had been being', negative: "she hadn't been being", question: 'Had she been being?', whQuestion: 'How long had she been being?', russian: '–æ–Ω–∞ –±—ã–ª–∞ (–¥–æ —Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞)' },
                        'it': { positive: 'it had been being', negative: "it hadn't been being", question: 'Had it been being?', whQuestion: 'How long had it been being?', russian: '–æ–Ω–æ –±—ã–ª–æ (–¥–æ —Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞)' },
                        'we': { positive: 'we had been being', negative: "we hadn't been being", question: 'Had we been being?', whQuestion: 'How long had we been being?', russian: '–º—ã –±—ã–ª–∏ (–¥–æ —Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞)' },
                        'they': { positive: 'they had been being', negative: "they hadn't been being", question: 'Had they been being?', whQuestion: 'How long had they been being?', russian: '–æ–Ω–∏ –±—ã–ª–∏ (–¥–æ —Ç–æ–≥–æ –º–æ–º–µ–Ω—Ç–∞)' }
                    }
                }
            };
            
            // Clear existing dictionary
            data.verbDictionary = {};
            
            // Copy basic verbs
            Object.assign(data.verbDictionary, basicVerbs);
            
            // Generate all tenses for all verbs
            Object.keys(data.verbInfinitives).forEach(verb => {
                if (!data.verbDictionary[verb]) {
                    data.verbDictionary[verb] = {};
                }
                
                // Generate all tenses
                generateVerbTenses(verb);
            });
        }

        // Generate all tenses for a verb
        function generateVerbTenses(verb) {
            // Skip if verb is not in infinitives dictionary
            if (!data.verbInfinitives[verb]) return;
            
            const subjects = data.allSubjects;
            const ingForm = utils.getIngForm(verb);
            const pastParticiple = utils.getPastParticiple(verb);
            
            // Generate each tense if not already defined
            const tenseGenerators = {
                present: () => generatePresentSimple(verb),
                past: () => generatePastSimple(verb),
                future: () => generateFutureSimple(verb),
                presentPerfect: () => generatePresentPerfect(verb, pastParticiple),
                pastPerfect: () => generatePastPerfect(verb, pastParticiple),
                presentContinuous: () => generatePresentContinuous(verb, ingForm),
                pastContinuous: () => generatePastContinuous(verb, ingForm),
                futureContinuous: () => generateFutureContinuous(verb, ingForm),
                presentPerfectContinuous: () => verb === 'be' ? null : generatePresentPerfectContinuous(verb, ingForm),
                pastPerfectContinuous: () => verb === 'be' ? null : generatePastPerfectContinuous(verb, ingForm)
            };
            
            Object.keys(tenseGenerators).forEach(tense => {
                if (!data.verbDictionary[verb][tense]) {
                    try {
                        const result = tenseGenerators[tense]();
                        if (result !== null) {
                            data.verbDictionary[verb][tense] = result;
                        }
                    } catch (error) {
                        console.error(`Error generating ${tense} for ${verb}:`, error);
                    }
                }
            });
        }

        // Tense generators
        function generatePresentSimple(verb) {
            if (verb === 'be' || data.verbDictionary[verb]?.present) {
                return data.verbDictionary[verb].present;
            }
            
            const result = {};
            const thirdPerson = verb.endsWith('s') || verb.endsWith('ss') || 
                              verb.endsWith('sh') || verb.endsWith('ch') || 
                              verb.endsWith('x') || verb.endsWith('z') ||
                              (verb.endsWith('o') && !['go', 'do'].includes(verb)) ? verb + 'es' : 
                              verb.endsWith('y') && !/[aeiou]y$/.test(verb) ? 
                              verb.slice(0, -1) + 'ies' : 
                              ['go', 'do'].includes(verb) ? verb + 'es' : verb + 's';
            
            const whWord = utils.getWhQuestionWord(verb);
            
            data.allSubjects.forEach(subject => {
                const base = ['he', 'she', 'it'].includes(subject) ? thirdPerson : verb;
                const aux = ['he', 'she', 'it'].includes(subject) ? 'does' : 'do';
                const auxNeg = ['he', 'she', 'it'].includes(subject) ? "doesn't" : "don't";
                
                const whQuestion = utils.formatWhQuestion(whWord, `${aux} ${subject}`, verb);
                
                result[subject] = {
                    positive: `${subject} ${base}`,
                    negative: `${subject} ${auxNeg} ${verb}`,
                    question: `${aux.charAt(0).toUpperCase() + aux.slice(1)} ${subject} ${verb}?`,
                    whQuestion: whQuestion,
                    russian: getRussianTranslation(verb, subject, 'present')
                };
            });
            
            return result;
        }

        function generatePastSimple(verb) {
            if (verb === 'be' || data.verbDictionary[verb]?.past) {
                return data.verbDictionary[verb].past;
            }
            
            const result = {};
            const pastForm = getPastForm(verb);
            const whWord = utils.getWhQuestionWord(verb);
            
            data.allSubjects.forEach(subject => {
                result[subject] = {
                    positive: `${subject} ${pastForm}`,
                    negative: `${subject} didn't ${verb}`,
                    question: `Did ${subject} ${verb}?`,
                    whQuestion: utils.formatWhQuestion(whWord, `did ${subject}`, verb),
                    russian: getRussianTranslation(verb, subject, 'past')
                };
            });
            
            return result;
        }

        function generateFutureSimple(verb) {
            const result = {};
            const whWord = utils.getWhQuestionWord(verb);
            
            data.allSubjects.forEach(subject => {
                result[subject] = {
                    positive: `${subject} will ${verb}`,
                    negative: `${subject} won't ${verb}`,
                    question: `Will ${subject} ${verb}?`,
                    whQuestion: utils.formatWhQuestion(whWord, `will ${subject}`, verb),
                    russian: getRussianTranslation(verb, subject, 'future')
                };
            });
            
            return result;
        }

        function generatePresentPerfect(verb, pastParticiple) {
            const result = {};
            const whWord = utils.getWhQuestionWord(verb);
            
            data.allSubjects.forEach(subject => {
                const aux = ['he', 'she', 'it'].includes(subject) ? 'has' : 'have';
                const auxNeg = ['he', 'she', 'it'].includes(subject) ? "hasn't" : "haven't";
                
                result[subject] = {
                    positive: `${subject} ${aux} ${pastParticiple}`,
                    negative: `${subject} ${auxNeg} ${pastParticiple}`,
                    question: `${aux.charAt(0).toUpperCase() + aux.slice(1)} ${subject} ${pastParticiple}?`,
                    whQuestion: utils.formatWhQuestion(whWord, `${aux} ${subject}`, pastParticiple),
                    russian: getRussianTranslation(verb, subject, 'presentPerfect')
                };
            });
            
            return result;
        }

        function generatePastPerfect(verb, pastParticiple) {
            const result = {};
            const whWord = utils.getWhQuestionWord(verb);
            
            data.allSubjects.forEach(subject => {
                result[subject] = {
                    positive: `${subject} had ${pastParticiple}`,
                    negative: `${subject} hadn't ${pastParticiple}`,
                    question: `Had ${subject} ${pastParticiple}?`,
                    whQuestion: utils.formatWhQuestion(whWord, `had ${subject}`, pastParticiple),
                    russian: getRussianTranslation(verb, subject, 'pastPerfect')
                };
            });
            
            return result;
        }

        function generatePresentContinuous(verb, ingForm) {
            const result = {};
            const whWord = utils.getWhQuestionWord(verb);
            
            data.allSubjects.forEach(subject => {
                const beForm = subject === 'I' ? 'am' : 
                             ['he', 'she', 'it'].includes(subject) ? 'is' : 'are';
                const beNeg = subject === 'I' ? 'am not' : 
                            ['he', 'she', 'it'].includes(subject) ? 'is not' : 'are not';
                const beQuestion = subject === 'I' ? 'Am' : 
                                 ['he', 'she', 'it'].includes(subject) ? 'Is' : 'Are';
                
                const whAux = beForm.toLowerCase();
                
                result[subject] = {
                    positive: `${subject} ${beForm} ${ingForm}`,
                    negative: `${subject} ${beNeg} ${ingForm}`,
                    question: `${beQuestion} ${subject} ${ingForm}?`,
                    whQuestion: utils.formatWhQuestion(whWord, `${whAux} ${subject}`, ingForm),
                    russian: getRussianTranslation(verb, subject, 'presentContinuous')
                };
            });
            
            return result;
        }

        function generatePastContinuous(verb, ingForm) {
            const result = {};
            const whWord = utils.getWhQuestionWord(verb);
            
            data.allSubjects.forEach(subject => {
                const wasWere = ['I', 'he', 'she', 'it'].includes(subject) ? 'was' : 'were';
                const wasWereNeg = ['I', 'he', 'she', 'it'].includes(subject) ? 'was not' : 'were not';
                const wasWereQuestion = ['I', 'he', 'she', 'it'].includes(subject) ? 'Was' : 'Were';
                
                result[subject] = {
                    positive: `${subject} ${wasWere} ${ingForm}`,
                    negative: `${subject} ${wasWereNeg} ${ingForm}`,
                    question: `${wasWereQuestion} ${subject} ${ingForm}?`,
                    whQuestion: utils.formatWhQuestion(whWord, `${wasWere} ${subject}`, ingForm),
                    russian: getRussianTranslation(verb, subject, 'pastContinuous')
                };
            });
            
            return result;
        }

        function generateFutureContinuous(verb, ingForm) {
            const result = {};
            const whWord = utils.getWhQuestionWord(verb);
            
            data.allSubjects.forEach(subject => {
                result[subject] = {
                    positive: `${subject} will be ${ingForm}`,
                    negative: `${subject} won't be ${ingForm}`,
                    question: `Will ${subject} be ${ingForm}?`,
                    whQuestion: utils.formatWhQuestion(whWord, `will ${subject} be`, ingForm),
                    russian: getRussianTranslation(verb, subject, 'futureContinuous')
                };
            });
            
            return result;
        }

        function generatePresentPerfectContinuous(verb, ingForm) {
            const result = {};
            const whWord = utils.getWhQuestionWord(verb, 'presentPerfectContinuous');
            
            data.allSubjects.forEach(subject => {
                const aux = ['he', 'she', 'it'].includes(subject) ? 'has' : 'have';
                const auxNeg = ['he', 'she', 'it'].includes(subject) ? "hasn't" : "haven't";
                
                result[subject] = {
                    positive: `${subject} ${aux} been ${ingForm}`,
                    negative: `${subject} ${auxNeg} been ${ingForm}`,
                    question: `${aux.charAt(0).toUpperCase() + aux.slice(1)} ${subject} been ${ingForm}?`,
                    whQuestion: utils.formatWhQuestion(whWord, `${aux} ${subject} been`, ingForm),
                    russian: getRussianTranslation(verb, subject, 'presentPerfectContinuous')
                };
            });
            
            return result;
        }

        function generatePastPerfectContinuous(verb, ingForm) {
            const result = {};
            const whWord = utils.getWhQuestionWord(verb, 'pastPerfectContinuous');
            
            data.allSubjects.forEach(subject => {
                result[subject] = {
                    positive: `${subject} had been ${ingForm}`,
                    negative: `${subject} hadn't been ${ingForm}`,
                    question: `Had ${subject} been ${ingForm}?`,
                    whQuestion: utils.formatWhQuestion(whWord, `had ${subject} been`, ingForm),
                    russian: getRussianTranslation(verb, subject, 'pastPerfectContinuous')
                };
            });
            
            return result;
        }

        // Helper functions for past forms and Russian translations
        function getPastForm(verb) {
            const irregularPasts = {
                'go': 'went', 'do': 'did', 'have': 'had', 'see': 'saw',
                'beat': 'beat', 'become': 'became', 'begin': 'began',
                'break': 'broke', 'bring': 'brought', 'build': 'built',
                'buy': 'bought', 'catch': 'caught', 'choose': 'chose',
                'come': 'came', 'cost': 'cost', 'draw': 'drew',
                'dream': 'dreamt', 'drink': 'drank', 'drive': 'drove',
                'eat': 'ate', 'fall': 'fell', 'feel': 'felt',
                'find': 'found', 'fly': 'flew', 'get': 'got',
                'give': 'gave', 'grow': 'grew', 'hear': 'heard',
                'know': 'knew', 'learn': 'learnt', 'leave': 'left',
                'lie': 'lay', 'make': 'made', 'meet': 'met',
                'put': 'put', 'read': 'read', 'run': 'ran',
                'say': 'said', 'seek': 'sought', 'show': 'showed',
                'sing': 'sang', 'sit': 'sat', 'sleep': 'slept',
                'speak': 'spoke', 'stand': 'stood', 'swim': 'swam',
                'take': 'took', 'teach': 'taught', 'tell': 'told',
                'think': 'thought', 'throw': 'threw', 'understand': 'understood',
                'write': 'wrote'
            };
            
            if (irregularPasts[verb]) return irregularPasts[verb];
            
            // Regular verbs
            if (verb.endsWith('e')) return verb + 'd';
            if (verb.endsWith('y') && !/[aeiou]y$/.test(verb)) {
                return verb.slice(0, -1) + 'ied';
            }
            return verb + 'ed';
        }

        function getRussianPresent(verb, subject) {
            // Basic Russian conjugations for common verbs
            const russianConjugations = {
                'be': {
                    'I': '–Ø –µ—Å—Ç—å', 'you': '—Ç—ã –µ—Å—Ç—å', 'he': '–æ–Ω –µ—Å—Ç—å', 
                    'she': '–æ–Ω–∞ –µ—Å—Ç—å', 'it': '–æ–Ω–æ –µ—Å—Ç—å', 'we': '–º—ã –µ—Å—Ç—å', 'they': '–æ–Ω–∏ –µ—Å—Ç—å'
                },
                'go': {
                    'I': '–Ø –∏–¥—É', 'you': '—Ç—ã –∏–¥—ë—à—å', 'he': '–æ–Ω –∏–¥—ë—Ç',
                    'she': '–æ–Ω–∞ –∏–¥—ë—Ç', 'it': '–æ–Ω–æ –∏–¥—ë—Ç', 'we': '–º—ã –∏–¥—ë–º', 'they': '–æ–Ω–∏ –∏–¥—É—Ç'
                },
                'do': {
                    'I': '–Ø –¥–µ–ª–∞—é', 'you': '—Ç—ã –¥–µ–ª–∞–µ—à—å', 'he': '–æ–Ω –¥–µ–ª–∞–µ—Ç',
                    'she': '–æ–Ω–∞ –¥–µ–ª–∞–µ—Ç', 'it': '–æ–Ω–æ –¥–µ–ª–∞–µ—Ç', 'we': '–º—ã –¥–µ–ª–∞–µ–º', 'they': '–æ–Ω–∏ –¥–µ–ª–∞—é—Ç'
                },
                'have': {
                    'I': '–Ø –∏–º–µ—é', 'you': '—Ç—ã –∏–º–µ–µ—à—å', 'he': '–æ–Ω –∏–º–µ–µ—Ç',
                    'she': '–æ–Ω–∞ –∏–º–µ–µ—Ç', 'it': '–æ–Ω–æ –∏–º–µ–µ—Ç', 'we': '–º—ã –∏–º–µ–µ–º', 'they': '–æ–Ω–∏ –∏–º–µ—é—Ç'
                },
                'see': {
                    'I': '–Ø –≤–∏–∂—É', 'you': '—Ç—ã –≤–∏–¥–∏—à—å', 'he': '–æ–Ω –≤–∏–¥–∏—Ç',
                    'she': '–æ–Ω–∞ –≤–∏–¥–∏—Ç', 'it': '–æ–Ω–æ –≤–∏–¥–∏—Ç', 'we': '–º—ã –≤–∏–¥–∏–º', 'they': '–æ–Ω–∏ –≤–∏–¥—è—Ç'
                },
                'work': {
                    'I': '–Ø —Ä–∞–±–æ—Ç–∞—é', 'you': '—Ç—ã —Ä–∞–±–æ—Ç–∞–µ—à—å', 'he': '–æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç',
                    'she': '–æ–Ω–∞ —Ä–∞–±–æ—Ç–∞–µ—Ç', 'it': '–æ–Ω–æ —Ä–∞–±–æ—Ç–∞–µ—Ç', 'we': '–º—ã —Ä–∞–±–æ—Ç–∞–µ–º', 'they': '–æ–Ω–∏ —Ä–∞–±–æ—Ç–∞—é—Ç'
                },
                'play': {
                    'I': '–Ø –∏–≥—Ä–∞—é', 'you': '—Ç—ã –∏–≥—Ä–∞–µ—à—å', 'he': '–æ–Ω –∏–≥—Ä–∞–µ—Ç',
                    'she': '–æ–Ω–∞ –∏–≥—Ä–∞–µ—Ç', 'it': '–æ–Ω–æ –∏–≥—Ä–∞–µ—Ç', 'we': '–º—ã –∏–≥—Ä–∞–µ–º', 'they': '–æ–Ω–∏ –∏–≥—Ä–∞—é—Ç'
                },
                'read': {
                    'I': '–Ø —á–∏—Ç–∞—é', 'you': '—Ç—ã —á–∏—Ç–∞–µ—à—å', 'he': '–æ–Ω —á–∏—Ç–∞–µ—Ç',
                    'she': '–æ–Ω–∞ —á–∏—Ç–∞–µ—Ç', 'it': '–æ–Ω–æ —á–∏—Ç–∞–µ—Ç', 'we': '–º—ã —á–∏—Ç–∞–µ–º', 'they': '–æ–Ω–∏ —á–∏—Ç–∞—é—Ç'
                },
                'write': {
                    'I': '–Ø –ø–∏—à—É', 'you': '—Ç—ã –ø–∏—à–µ—à—å', 'he': '–æ–Ω –ø–∏—à–µ—Ç',
                    'she': '–æ–Ω–∞ –ø–∏—à–µ—Ç', 'it': '–æ–Ω–æ –ø–∏—à–µ—Ç', 'we': '–º—ã –ø–∏—à–µ–º', 'they': '–æ–Ω–∏ –ø–∏—à—É—Ç'
                },
                'speak': {
                    'I': '–Ø –≥–æ–≤–æ—Ä—é', 'you': '—Ç—ã –≥–æ–≤–æ—Ä–∏—à—å', 'he': '–æ–Ω –≥–æ–≤–æ—Ä–∏—Ç',
                    'she': '–æ–Ω–∞ –≥–æ–≤–æ—Ä–∏—Ç', 'it': '–æ–Ω–æ –≥–æ–≤–æ—Ä–∏—Ç', 'we': '–º—ã –≥–æ–≤–æ—Ä–∏–º', 'they': '–æ–Ω–∏ –≥–æ–≤–æ—Ä—è—Ç'
                },
                'study': {
                    'I': '–Ø —É—á—É—Å—å', 'you': '—Ç—ã —É—á–∏—à—å—Å—è', 'he': '–æ–Ω —É—á–∏—Ç—Å—è',
                    'she': '–æ–Ω–∞ —É—á–∏—Ç—Å—è', 'it': '–æ–Ω–æ —É—á–∏—Ç—Å—è', 'we': '–º—ã —É—á–∏–º—Å—è', 'they': '–æ–Ω–∏ —É—á–∞—Ç—Å—è'
                },
                'build': {
                    'I': '–Ø —Å—Ç—Ä–æ—é', 'you': '—Ç—ã —Å—Ç—Ä–æ–∏—à—å', 'he': '–æ–Ω —Å—Ç—Ä–æ–∏—Ç',
                    'she': '–æ–Ω–∞ —Å—Ç—Ä–æ–∏—Ç', 'it': '–æ–Ω–æ —Å—Ç—Ä–æ–∏—Ç', 'we': '–º—ã —Å—Ç—Ä–æ–∏–º', 'they': '–æ–Ω–∏ —Å—Ç—Ä–æ—è—Ç'
                },
                'buy': {
                    'I': '–Ø –ø–æ–∫—É–ø–∞—é', 'you': '—Ç—ã –ø–æ–∫—É–ø–∞–µ—à—å', 'he': '–æ–Ω –ø–æ–∫—É–ø–∞–µ—Ç',
                    'she': '–æ–Ω–∞ –ø–æ–∫—É–ø–∞–µ—Ç', 'it': '–æ–Ω–æ –ø–æ–∫—É–ø–∞–µ—Ç', 'we': '–º—ã –ø–æ–∫—É–ø–∞–µ–º', 'they': '–æ–Ω–∏ –ø–æ–∫—É–ø–∞—é—Ç'
                },
                'eat': {
                    'I': '–Ø –µ–º', 'you': '—Ç—ã –µ—à—å', 'he': '–æ–Ω –µ—Å—Ç',
                    'she': '–æ–Ω–∞ –µ—Å—Ç', 'it': '–æ–Ω–æ –µ—Å—Ç', 'we': '–º—ã –µ–¥–∏–º', 'they': '–æ–Ω–∏ –µ–¥—è—Ç'
                },
                'drink': {
                    'I': '–Ø –ø—å—é', 'you': '—Ç—ã –ø—å—ë—à—å', 'he': '–æ–Ω –ø—å—ë—Ç',
                    'she': '–æ–Ω–∞ –ø—å—ë—Ç', 'it': '–æ–Ω–æ –ø—å—ë—Ç', 'we': '–º—ã –ø—å—ë–º', 'they': '–æ–Ω–∏ –ø—å—é—Ç'
                },
                'sleep': {
                    'I': '–Ø —Å–ø–ª—é', 'you': '—Ç—ã —Å–ø–∏—à—å', 'he': '–æ–Ω —Å–ø–∏—Ç',
                    'she': '–æ–Ω–∞ —Å–ø–∏—Ç', 'it': '–æ–Ω–æ —Å–ø–∏—Ç', 'we': '–º—ã —Å–ø–∏–º', 'they': '–æ–Ω–∏ —Å–ø—è—Ç'
                },
                'run': {
                    'I': '–Ø –±–µ–≥—É', 'you': '—Ç—ã –±–µ–∂–∏—à—å', 'he': '–æ–Ω –±–µ–∂–∏—Ç',
                    'she': '–æ–Ω–∞ –±–µ–∂–∏—Ç', 'it': '–æ–Ω–æ –±–µ–∂–∏—Ç', 'we': '–º—ã –±–µ–∂–∏–º', 'they': '–æ–Ω–∏ –±–µ–≥—É—Ç'
                },
                'swim': {
                    'I': '–Ø –ø–ª–∞–≤–∞—é', 'you': '—Ç—ã –ø–ª–∞–≤–∞–µ—à—å', 'he': '–æ–Ω –ø–ª–∞–≤–∞–µ—Ç',
                    'she': '–æ–Ω–∞ –ø–ª–∞–≤–∞–µ—Ç', 'it': '–æ–Ω–æ –ø–ª–∞–≤–∞–µ—Ç', 'we': '–º—ã –ø–ª–∞–≤–∞–µ–º', 'they': '–æ–Ω–∏ –ø–ª–∞–≤–∞—é—Ç'
                },
                'sing': {
                    'I': '–Ø –ø–æ—é', 'you': '—Ç—ã –ø–æ—ë—à—å', 'he': '–æ–Ω –ø–æ—ë—Ç',
                    'she': '–æ–Ω–∞ –ø–æ—ë—Ç', 'it': '–æ–Ω–æ –ø–æ—ë—Ç', 'we': '–º—ã –ø–æ—ë–º', 'they': '–æ–Ω–∏ –ø–æ—é—Ç'
                },
                'fly': {
                    'I': '–Ø –ª–µ—Ç–∞—é', 'you': '—Ç—ã –ª–µ—Ç–∞–µ—à—å', 'he': '–æ–Ω –ª–µ—Ç–∞–µ—Ç',
                    'she': '–æ–Ω–∞ –ª–µ—Ç–∞–µ—Ç', 'it': '–æ–Ω–æ –ª–µ—Ç–∞–µ—Ç', 'we': '–º—ã –ª–µ—Ç–∞–µ–º', 'they': '–æ–Ω–∏ –ª–µ—Ç–∞—é—Ç'
                },
                'give': {
                    'I': '–Ø –¥–∞—é', 'you': '—Ç—ã –¥–∞—ë—à—å', 'he': '–æ–Ω –¥–∞—ë—Ç',
                    'she': '–æ–Ω–∞ –¥–∞—ë—Ç', 'it': '–æ–Ω–æ –¥–∞—ë—Ç', 'we': '–º—ã –¥–∞—ë–º', 'they': '–æ–Ω–∏ –¥–∞—é—Ç'
                },
                'take': {
                    'I': '–Ø –±–µ—Ä—É', 'you': '—Ç—ã –±–µ—Ä—ë—à—å', 'he': '–æ–Ω –±–µ—Ä—ë—Ç',
                    'she': '–æ–Ω–∞ –±–µ—Ä—ë—Ç', 'it': '–æ–Ω–æ –±–µ—Ä—ë—Ç', 'we': '–º—ã –±–µ—Ä—ë–º', 'they': '–æ–Ω–∏ –±–µ—Ä—É—Ç'
                },
                'come': {
                    'I': '–Ø –ø—Ä–∏—Ö–æ–∂—É', 'you': '—Ç—ã –ø—Ä–∏—Ö–æ–¥–∏—à—å', 'he': '–æ–Ω –ø—Ä–∏—Ö–æ–¥–∏—Ç',
                    'she': '–æ–Ω–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç', 'it': '–æ–Ω–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç', 'we': '–º—ã –ø—Ä–∏—Ö–æ–¥–∏–º', 'they': '–æ–Ω–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç'
                },
                'know': {
                    'I': '–Ø –∑–Ω–∞—é', 'you': '—Ç—ã –∑–Ω–∞–µ—à—å', 'he': '–æ–Ω –∑–Ω–∞–µ—Ç',
                    'she': '–æ–Ω–∞ –∑–Ω–∞–µ—Ç', 'it': '–æ–Ω–æ –∑–Ω–∞–µ—Ç', 'we': '–º—ã –∑–Ω–∞–µ–º', 'they': '–æ–Ω–∏ –∑–Ω–∞—é—Ç'
                },
                'think': {
                    'I': '–Ø –¥—É–º–∞—é', 'you': '—Ç—ã –¥—É–º–∞–µ—à—å', 'he': '–æ–Ω –¥—É–º–∞–µ—Ç',
                    'she': '–æ–Ω–∞ –¥—É–º–∞–µ—Ç', 'it': '–æ–Ω–æ –¥—É–º–∞–µ—Ç', 'we': '–º—ã –¥—É–º–∞–µ–º', 'they': '–æ–Ω–∏ –¥—É–º–∞—é—Ç'
                },
                'feel': {
                    'I': '–Ø —á—É–≤—Å—Ç–≤—É—é', 'you': '—Ç—ã —á—É–≤—Å—Ç–≤—É–µ—à—å', 'he': '–æ–Ω —á—É–≤—Å—Ç–≤—É–µ—Ç',
                    'she': '–æ–Ω–∞ —á—É–≤—Å—Ç–≤—É–µ—Ç', 'it': '–æ–Ω–æ —á—É–≤—Å—Ç–≤—É–µ—Ç', 'we': '–º—ã —á—É–≤—Å—Ç–≤—É–µ–º', 'they': '–æ–Ω–∏ —á—É–≤—Å—Ç–≤—É—é—Ç'
                },
                'stand': {
                    'I': '–Ø —Å—Ç–æ—é', 'you': '—Ç—ã —Å—Ç–æ–∏—à—å', 'he': '–æ–Ω —Å—Ç–æ–∏—Ç',
                    'she': '–æ–Ω–∞ —Å—Ç–æ–∏—Ç', 'it': '–æ–Ω–æ —Å—Ç–æ–∏—Ç', 'we': '–º—ã —Å—Ç–æ–∏–º', 'they': '–æ–Ω–∏ —Å—Ç–æ—è—Ç'
                },
                'sit': {
                    'I': '–Ø —Å–∏–∂—É', 'you': '—Ç—ã —Å–∏–¥–∏—à—å', 'he': '–æ–Ω —Å–∏–¥–∏—Ç',
                    'she': '–æ–Ω–∞ —Å–∏–¥–∏—Ç', 'it': '–æ–Ω–æ —Å–∏–¥–∏—Ç', 'we': '–º—ã —Å–∏–¥–∏–º', 'they': '–æ–Ω–∏ —Å–∏–¥—è—Ç'
                },
                'lie': {
                    'I': '–Ø –ª–µ–∂—É', 'you': '—Ç—ã –ª–µ–∂–∏—à—å', 'he': '–æ–Ω –ª–µ–∂–∏—Ç',
                    'she': '–æ–Ω–∞ –ª–µ–∂–∏—Ç', 'it': '–æ–Ω–æ –ª–µ–∂–∏—Ç', 'we': '–º—ã –ª–µ–∂–∏–º', 'they': '–æ–Ω–∏ –ª–µ–∂–∞—Ç'
                },
                'teach': {
                    'I': '–Ø —É—á—É', 'you': '—Ç—ã —É—á–∏—à—å', 'he': '–æ–Ω —É—á–∏—Ç',
                    'she': '–æ–Ω–∞ —É—á–∏—Ç', 'it': '–æ–Ω–æ —É—á–∏—Ç', 'we': '–º—ã —É—á–∏–º', 'they': '–æ–Ω–∏ —É—á–∞—Ç'
                },
                'learn': {
                    'I': '–Ø —É—á—É—Å—å', 'you': '—Ç—ã —É—á–∏—à—å—Å—è', 'he': '–æ–Ω —É—á–∏—Ç—Å—è',
                    'she': '–æ–Ω–∞ —É—á–∏—Ç—Å—è', 'it': '–æ–Ω–æ —É—á–∏—Ç—Å—è', 'we': '–º—ã —É—á–∏–º—Å—è', 'they': '–æ–Ω–∏ —É—á–∞—Ç—Å—è'
                },
                'understand': {
                    'I': '–Ø –ø–æ–Ω–∏–º–∞—é', 'you': '—Ç—ã –ø–æ–Ω–∏–º–∞–µ—à—å', 'he': '–æ–Ω –ø–æ–Ω–∏–º–∞–µ—Ç',
                    'she': '–æ–Ω–∞ –ø–æ–Ω–∏–º–∞–µ—Ç', 'it': '–æ–Ω–æ –ø–æ–Ω–∏–º–∞–µ—Ç', 'we': '–º—ã –ø–æ–Ω–∏–º–∞–µ–º', 'they': '–æ–Ω–∏ –ø–æ–Ω–∏–º–∞—é—Ç'
                },
                'hear': {
                    'I': '–Ø —Å–ª—ã—à—É', 'you': '—Ç—ã —Å–ª—ã—à–∏—à—å', 'he': '–æ–Ω —Å–ª—ã—à–∏—Ç',
                    'she': '–æ–Ω–∞ —Å–ª—ã—à–∏—Ç', 'it': '–æ–Ω–æ —Å–ª—ã—à–∏—Ç', 'we': '–º—ã —Å–ª—ã—à–∏–º', 'they': '–æ–Ω–∏ —Å–ª—ã—à–∞—Ç'
                },
                'make': {
                    'I': '–Ø –¥–µ–ª–∞—é', 'you': '—Ç—ã –¥–µ–ª–∞–µ—à—å', 'he': '–æ–Ω –¥–µ–ª–∞–µ—Ç',
                    'she': '–æ–Ω–∞ –¥–µ–ª–∞–µ—Ç', 'it': '–æ–Ω–æ –¥–µ–ª–∞–µ—Ç', 'we': '–º—ã –¥–µ–ª–∞–µ–º', 'they': '–æ–Ω–∏ –¥–µ–ª–∞—é—Ç'
                },
                'begin': {
                    'I': '–Ø –Ω–∞—á–∏–Ω–∞—é', 'you': '—Ç—ã –Ω–∞—á–∏–Ω–∞–µ—à—å', 'he': '–æ–Ω –Ω–∞—á–∏–Ω–∞–µ—Ç',
                    'she': '–æ–Ω–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç', 'it': '–æ–Ω–æ –Ω–∞—á–∏–Ω–∞–µ—Ç', 'we': '–º—ã –Ω–∞—á–∏–Ω–∞–µ–º', 'they': '–æ–Ω–∏ –Ω–∞—á–∏–Ω–∞—é—Ç'
                },
                'find': {
                    'I': '–Ø –Ω–∞—Ö–æ–∂—É', 'you': '—Ç—ã –Ω–∞—Ö–æ–¥–∏—à—å', 'he': '–æ–Ω –Ω–∞—Ö–æ–¥–∏—Ç',
                    'she': '–æ–Ω–∞ –Ω–∞—Ö–æ–¥–∏—Ç', 'it': '–æ–Ω–æ –Ω–∞—Ö–æ–¥–∏—Ç', 'we': '–º—ã –Ω–∞—Ö–æ–¥–∏–º', 'they': '–æ–Ω–∏ –Ω–∞—Ö–æ–¥—è—Ç'
                },
                'bring': {
                    'I': '–Ø –ø—Ä–∏–Ω–æ—à—É', 'you': '—Ç—ã –ø—Ä–∏–Ω–æ—Å–∏—à—å', 'he': '–æ–Ω –ø—Ä–∏–Ω–æ—Å–∏—Ç',
                    'she': '–æ–Ω–∞ –ø—Ä–∏–Ω–æ—Å–∏—Ç', 'it': '–æ–Ω–æ –ø—Ä–∏–Ω–æ—Å–∏—Ç', 'we': '–º—ã –ø—Ä–∏–Ω–æ—Å–∏–º', 'they': '–æ–Ω–∏ –ø—Ä–∏–Ω–æ—Å—è—Ç'
                },
                'leave': {
                    'I': '–Ø —É—Ö–æ–∂—É', 'you': '—Ç—ã —É—Ö–æ–¥–∏—à—å', 'he': '–æ–Ω —É—Ö–æ–¥–∏—Ç',
                    'she': '–æ–Ω–∞ —É—Ö–æ–¥–∏—Ç', 'it': '–æ–Ω–æ —É—Ö–æ–¥–∏—Ç', 'we': '–º—ã —É—Ö–æ–¥–∏–º', 'they': '–æ–Ω–∏ —É—Ö–æ–¥—è—Ç'
                },
                'draw': {
                    'I': '–Ø —Ä–∏—Å—É—é', 'you': '—Ç—ã —Ä–∏—Å—É–µ—à—å', 'he': '–æ–Ω —Ä–∏—Å—É–µ—Ç',
                    'she': '–æ–Ω–∞ —Ä–∏—Å—É–µ—Ç', 'it': '–æ–Ω–æ —Ä–∏—Å—É–µ—Ç', 'we': '–º—ã —Ä–∏—Å—É–µ–º', 'they': '–æ–Ω–∏ —Ä–∏—Å—É—é—Ç'
                },
                'throw': {
                    'I': '–Ø –±—Ä–æ—Å–∞—é', 'you': '—Ç—ã –±—Ä–æ—Å–∞–µ—à—å', 'he': '–æ–Ω –±—Ä–æ—Å–∞–µ—Ç',
                    'she': '–æ–Ω–∞ –±—Ä–æ—Å–∞–µ—Ç', 'it': '–æ–Ω–æ –±—Ä–æ—Å–∞–µ—Ç', 'we': '–º—ã –±—Ä–æ—Å–∞–µ–º', 'they': '–æ–Ω–∏ –±—Ä–æ—Å–∞—é—Ç'
                },
                'catch': {
                    'I': '–Ø –ª–æ–≤–ª—é', 'you': '—Ç—ã –ª–æ–≤–∏—à—å', 'he': '–æ–Ω –ª–æ–≤–∏—Ç',
                    'she': '–æ–Ω–∞ –ª–æ–≤–∏—Ç', 'it': '–æ–Ω–æ –ª–æ–≤–∏—Ç', 'we': '–º—ã –ª–æ–≤–∏–º', 'they': '–æ–Ω–∏ –ª–æ–≤—è—Ç'
                },
                'drive': {
                    'I': '–Ø –≤–æ–∂—É', 'you': '—Ç—ã –≤–æ–¥–∏—à—å', 'he': '–æ–Ω –≤–æ–¥–∏—Ç',
                    'she': '–æ–Ω–∞ –≤–æ–¥–∏—Ç', 'it': '–æ–Ω–æ –≤–æ–¥–∏—Ç', 'we': '–º—ã –≤–æ–¥–∏–º', 'they': '–æ–Ω–∏ –≤–æ–¥—è—Ç'
                },
                'choose': {
                    'I': '–Ø –≤—ã–±–∏—Ä–∞—é', 'you': '—Ç—ã –≤—ã–±–∏—Ä–∞–µ—à—å', 'he': '–æ–Ω –≤—ã–±–∏—Ä–∞–µ—Ç',
                    'she': '–æ–Ω–∞ –≤—ã–±–∏—Ä–∞–µ—Ç', 'it': '–æ–Ω–æ –≤—ã–±–∏—Ä–∞–µ—Ç', 'we': '–º—ã –≤—ã–±–∏—Ä–∞–µ–º', 'they': '–æ–Ω–∏ –≤—ã–±–∏—Ä–∞—é—Ç'
                },
                'fall': {
                    'I': '–Ø –ø–∞–¥–∞—é', 'you': '—Ç—ã –ø–∞–¥–∞–µ—à—å', 'he': '–æ–Ω –ø–∞–¥–∞–µ—Ç',
                    'she': '–æ–Ω–∞ –ø–∞–¥–∞–µ—Ç', 'it': '–æ–Ω–æ –ø–∞–¥–∞–µ—Ç', 'we': '–º—ã –ø–∞–¥–∞–µ–º', 'they': '–æ–Ω–∏ –ø–∞–¥–∞—é—Ç'
                },
                'get': {
                    'I': '–Ø –ø–æ–ª—É—á–∞—é', 'you': '—Ç—ã –ø–æ–ª—É—á–∞–µ—à—å', 'he': '–æ–Ω –ø–æ–ª—É—á–∞–µ—Ç',
                    'she': '–æ–Ω–∞ –ø–æ–ª—É—á–∞–µ—Ç', 'it': '–æ–Ω–æ –ø–æ–ª—É—á–∞–µ—Ç', 'we': '–º—ã –ø–æ–ª—É—á–∞–µ–º', 'they': '–æ–Ω–∏ –ø–æ–ª—É—á–∞—é—Ç'
                },
                'grow': {
                    'I': '–Ø —Ä–∞—Å—Ç—É', 'you': '—Ç—ã —Ä–∞—Å—Ç—ë—à—å', 'he': '–æ–Ω —Ä–∞—Å—Ç—ë—Ç',
                    'she': '–æ–Ω–∞ —Ä–∞—Å—Ç—ë—Ç', 'it': '–æ–Ω–æ —Ä–∞—Å—Ç—ë—Ç', 'we': '–º—ã —Ä–∞—Å—Ç—ë–º', 'they': '–æ–Ω–∏ —Ä–∞—Å—Ç—É—Ç'
                },
                'become': {
                    'I': '–Ø —Å—Ç–∞–Ω–æ–≤–ª—é—Å—å', 'you': '—Ç—ã —Å—Ç–∞–Ω–æ–≤–∏—à—å—Å—è', 'he': '–æ–Ω —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è',
                    'she': '–æ–Ω–∞ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è', 'it': '–æ–Ω–æ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è', 'we': '–º—ã —Å—Ç–∞–Ω–æ–≤–∏–º—Å—è', 'they': '–æ–Ω–∏ —Å—Ç–∞–Ω–æ–≤—è—Ç—Å—è'
                },
                'say': {
                    'I': '–Ø –≥–æ–≤–æ—Ä—é', 'you': '—Ç—ã –≥–æ–≤–æ—Ä–∏—à—å', 'he': '–æ–Ω –≥–æ–≤–æ—Ä–∏—Ç',
                    'she': '–æ–Ω–∞ –≥–æ–≤–æ—Ä–∏—Ç', 'it': '–æ–Ω–æ –≥–æ–≤–æ—Ä–∏—Ç', 'we': '–º—ã –≥–æ–≤–æ—Ä–∏–º', 'they': '–æ–Ω–∏ –≥–æ–≤–æ—Ä—è—Ç'
                },
                'tell': {
                    'I': '–Ø —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—é', 'you': '—Ç—ã —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—à—å', 'he': '–æ–Ω —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç',
                    'she': '–æ–Ω–∞ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç', 'it': '–æ–Ω–æ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ—Ç', 'we': '–º—ã —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞–µ–º', 'they': '–æ–Ω–∏ —Ä–∞—Å—Å–∫–∞–∑—ã–≤–∞—é—Ç'
                },
                'show': {
                    'I': '–Ø –ø–æ–∫–∞–∑—ã–≤–∞—é', 'you': '—Ç—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ—à—å', 'he': '–æ–Ω –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç',
                    'she': '–æ–Ω–∞ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç', 'it': '–æ–Ω–æ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç', 'we': '–º—ã –ø–æ–∫–∞–∑—ã–≤–∞–µ–º', 'they': '–æ–Ω–∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç'
                },
                'meet': {
                    'I': '–Ø –≤—Å—Ç—Ä–µ—á–∞—é', 'you': '—Ç—ã –≤—Å—Ç—Ä–µ—á–∞–µ—à—å', 'he': '–æ–Ω –≤—Å—Ç—Ä–µ—á–∞–µ—Ç',
                    'she': '–æ–Ω–∞ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç', 'it': '–æ–Ω–æ –≤—Å—Ç—Ä–µ—á–∞–µ—Ç', 'we': '–º—ã –≤—Å—Ç—Ä–µ—á–∞–µ–º', 'they': '–æ–Ω–∏ –≤—Å—Ç—Ä–µ—á–∞—é—Ç'
                },
                'put': {
                    'I': '–Ø –∫–ª–∞–¥—É', 'you': '—Ç—ã –∫–ª–∞–¥—ë—à—å', 'he': '–æ–Ω –∫–ª–∞–¥—ë—Ç',
                    'she': '–æ–Ω–∞ –∫–ª–∞–¥—ë—Ç', 'it': '–æ–Ω–æ –∫–ª–∞–¥—ë—Ç', 'we': '–º—ã –∫–ª–∞–¥—ë–º', 'they': '–æ–Ω–∏ –∫–ª–∞–¥—É—Ç'
                },
                'break': {
                    'I': '–Ø –ª–æ–º–∞—é', 'you': '—Ç—ã –ª–æ–º–∞–µ—à—å', 'he': '–æ–Ω –ª–æ–º–∞–µ—Ç',
                    'she': '–æ–Ω–∞ –ª–æ–º–∞–µ—Ç', 'it': '–æ–Ω–æ –ª–æ–º–∞–µ—Ç', 'we': '–º—ã –ª–æ–º–∞–µ–º', 'they': '–æ–Ω–∏ –ª–æ–º–∞—é—Ç'
                },
                'fix': {
                    'I': '–Ø —á–∏–Ω—é', 'you': '—Ç—ã —á–∏–Ω–∏—à—å', 'he': '–æ–Ω —á–∏–Ω–∏—Ç',
                    'she': '–æ–Ω–∞ —á–∏–Ω–∏—Ç', 'it': '–æ–Ω–æ —á–∏–Ω–∏—Ç', 'we': '–º—ã —á–∏–Ω–∏–º', 'they': '–æ–Ω–∏ —á–∏–Ω—è—Ç'
                },
                'cost': {
                    'I': '–≠—Ç–æ —Å—Ç–æ–∏—Ç', 'you': '–≠—Ç–æ —Å—Ç–æ–∏—Ç', 'he': '–≠—Ç–æ —Å—Ç–æ–∏—Ç',
                    'she': '–≠—Ç–æ —Å—Ç–æ–∏—Ç', 'it': '–≠—Ç–æ —Å—Ç–æ–∏—Ç', 'we': '–≠—Ç–æ —Å—Ç–æ–∏—Ç', 'they': '–≠—Ç–æ —Å—Ç–æ–∏—Ç'
                },
                'dream': {
                    'I': '–Ø –º–µ—á—Ç–∞—é', 'you': '—Ç—ã –º–µ—á—Ç–∞–µ—à—å', 'he': '–æ–Ω –º–µ—á—Ç–∞–µ—Ç',
                    'she': '–æ–Ω–∞ –º–µ—á—Ç–∞–µ—Ç', 'it': '–æ–Ω–æ –º–µ—á—Ç–∞–µ—Ç', 'we': '–º—ã –º–µ—á—Ç–∞–µ–º', 'they': '–æ–Ω–∏ –º–µ—á—Ç–∞—é—Ç'
                },
                'cry': {
                    'I': '–Ø –ø–ª–∞—á—É', 'you': '—Ç—ã –ø–ª–∞—á–µ—à—å', 'he': '–æ–Ω –ø–ª–∞—á–µ—Ç',
                    'she': '–æ–Ω–∞ –ø–ª–∞—á–µ—Ç', 'it': '–æ–Ω–æ –ø–ª–∞—á–µ—Ç', 'we': '–º—ã –ø–ª–∞—á–µ–º', 'they': '–æ–Ω–∏ –ø–ª–∞—á—É—Ç'
                },
                'beat': {
                    'I': '–Ø –±—å—é', 'you': '—Ç—ã –±—å—ë—à—å', 'he': '–æ–Ω –±—å—ë—Ç',
                    'she': '–æ–Ω–∞ –±—å—ë—Ç', 'it': '–æ–Ω–æ –±—å—ë—Ç', 'we': '–º—ã –±—å—ë–º', 'they': '–æ–Ω–∏ –±—å—é—Ç'
                },
                'seek': {
                    'I': '–Ø –∏—â—É', 'you': '—Ç—ã –∏—â–µ—à—å', 'he': '–æ–Ω –∏—â–µ—Ç',
                    'she': '–æ–Ω–∞ –∏—â–µ—Ç', 'it': '–æ–Ω–æ –∏—â–µ—Ç', 'we': '–º—ã –∏—â–µ–º', 'they': '–æ–Ω–∏ –∏—â—É—Ç'
                }
            };
            
            if (russianConjugations[verb] && russianConjugations[verb][subject]) {
                return russianConjugations[verb][subject];
            }
            
            // Fallback for verbs not in the dictionary
            const pronouns = {
                'I': '–Ø', 'you': '—Ç—ã', 'he': '–æ–Ω', 'she': '–æ–Ω–∞',
                'it': '–æ–Ω–æ', 'we': '–º—ã', 'they': '–æ–Ω–∏'
            };
            return `${pronouns[subject]} ${data.verbInfinitives[verb] || verb}`;
        }

        function getRussianPast(verb, subject, usePerfective = false) {
            const pronouns = {
                'I': '–Ø', 'you': '—Ç—ã', 'he': '–æ–Ω', 'she': '–æ–Ω–∞',
                'it': '–æ–Ω–æ', 'we': '–º—ã', 'they': '–æ–Ω–∏'
            };
            
            // Use the past forms dictionary
            if (data.russianPastForms[verb]) {
                const verbData = data.russianPastForms[verb];
                const forms = usePerfective && verbData.perfective ? verbData.perfective : verbData;
                let form = '';
                
                if (subject === 'I' || subject === 'you') {
                    form = forms.base + '/' + forms.f;
                } else if (subject === 'he') {
                    form = forms.base;
                } else if (subject === 'she') {
                    form = forms.f;
                } else if (subject === 'it') {
                    form = forms.n;
                } else if (subject === 'we' || subject === 'they') {
                    form = forms.pl;
                }
                
                return `${pronouns[subject]} ${form}`;
            }
            
            // Fallback - should not happen if all verbs are in the dictionary
            return `${pronouns[subject]} ${data.verbInfinitives[verb] || verb} (–ø—Ä–æ—à–ª–æ–µ)`;
        }

        function getRussianFuture(verb, subject) {
            const pronouns = {
                'I': '–Ø', 'you': '—Ç—ã', 'he': '–æ–Ω', 'she': '–æ–Ω–∞',
                'it': '–æ–Ω–æ', 'we': '–º—ã', 'they': '–æ–Ω–∏'
            };
            
            const futureHelper = {
                'I': '–±—É–¥—É', 'you': '–±—É–¥–µ—à—å', 'he': '–±—É–¥–µ—Ç',
                'she': '–±—É–¥–µ—Ç', 'it': '–±—É–¥–µ—Ç', 'we': '–±—É–¥–µ–º', 'they': '–±—É–¥—É—Ç'
            };
            
            return `${pronouns[subject]} ${futureHelper[subject]} ${data.verbInfinitives[verb] || verb}`;
        }
        
        // Complete Russian translations for key verbs
        const completeRussianTranslations = {
            'go': {
                'present': {
                    'I': '–Ø —Ö–æ–∂—É', 'you': '–¢—ã —Ö–æ–¥–∏—à—å', 'he': '–û–Ω —Ö–æ–¥–∏—Ç',
                    'she': '–û–Ω–∞ —Ö–æ–¥–∏—Ç', 'it': '–û–Ω–æ —Ö–æ–¥–∏—Ç', 'we': '–ú—ã —Ö–æ–¥–∏–º', 'they': '–û–Ω–∏ —Ö–æ–¥—è—Ç'
                },
                'past': {
                    'I': '–Ø —Ö–æ–¥–∏–ª/—Ö–æ–¥–∏–ª–∞', 'you': '–¢—ã —Ö–æ–¥–∏–ª/—Ö–æ–¥–∏–ª–∞', 'he': '–û–Ω —Ö–æ–¥–∏–ª',
                    'she': '–û–Ω–∞ —Ö–æ–¥–∏–ª–∞', 'it': '–û–Ω–æ —Ö–æ–¥–∏–ª–æ', 'we': '–ú—ã —Ö–æ–¥–∏–ª–∏', 'they': '–û–Ω–∏ —Ö–æ–¥–∏–ª–∏'
                },
                'future': {
                    'I': '–Ø –ø–æ–π–¥—É', 'you': '–¢—ã –ø–æ–π–¥—ë—à—å', 'he': '–û–Ω –ø–æ–π–¥—ë—Ç',
                    'she': '–û–Ω–∞ –ø–æ–π–¥—ë—Ç', 'it': '–û–Ω–æ –ø–æ–π–¥—ë—Ç', 'we': '–ú—ã –ø–æ–π–¥—ë–º', 'they': '–û–Ω–∏ –ø–æ–π–¥—É—Ç'
                },
                'presentPerfect': {
                    'I': '–Ø —Å—Ö–æ–¥–∏–ª/—Å—Ö–æ–¥–∏–ª–∞', 'you': '–¢—ã —Å—Ö–æ–¥–∏–ª/—Å—Ö–æ–¥–∏–ª–∞', 'he': '–û–Ω —Å—Ö–æ–¥–∏–ª',
                    'she': '–û–Ω–∞ —Å—Ö–æ–¥–∏–ª–∞', 'it': '–û–Ω–æ —Å—Ö–æ–¥–∏–ª–æ', 'we': '–ú—ã —Å—Ö–æ–¥–∏–ª–∏', 'they': '–û–Ω–∏ —Å—Ö–æ–¥–∏–ª–∏'
                },
                'pastPerfect': {
                    'I': '–Ø —Å—Ö–æ–¥–∏–ª/—Å—Ö–æ–¥–∏–ª–∞ (–¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)', 'you': '–¢—ã —Å—Ö–æ–¥–∏–ª/—Å—Ö–æ–¥–∏–ª–∞ (–¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)', 
                    'he': '–û–Ω —Å—Ö–æ–¥–∏–ª (–¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)', 'she': '–û–Ω–∞ —Å—Ö–æ–¥–∏–ª–∞ (–¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)',
                    'it': '–û–Ω–æ —Å—Ö–æ–¥–∏–ª–æ (–¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)', 'we': '–ú—ã —Å—Ö–æ–¥–∏–ª–∏ (–¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)', 
                    'they': '–û–Ω–∏ —Å—Ö–æ–¥–∏–ª–∏ (–¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)'
                },
                'presentContinuous': {
                    'I': '–Ø –∏–¥—É (—Å–µ–π—á–∞—Å)', 'you': '–¢—ã –∏–¥—ë—à—å (—Å–µ–π—á–∞—Å)', 'he': '–û–Ω –∏–¥—ë—Ç (—Å–µ–π—á–∞—Å)',
                    'she': '–û–Ω–∞ –∏–¥—ë—Ç (—Å–µ–π—á–∞—Å)', 'it': '–û–Ω–æ –∏–¥—ë—Ç (—Å–µ–π—á–∞—Å)', 'we': '–ú—ã –∏–¥—ë–º (—Å–µ–π—á–∞—Å)', 'they': '–û–Ω–∏ –∏–¥—É—Ç (—Å–µ–π—á–∞—Å)'
                },
                'pastContinuous': {
                    'I': '–Ø —à—ë–ª/—à–ª–∞ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –ø—Ä–æ—à–ª–æ–º)', 'you': '–¢—ã —à—ë–ª/—à–ª–∞ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –ø—Ä–æ—à–ª–æ–º)',
                    'he': '–û–Ω —à—ë–ª (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –ø—Ä–æ—à–ª–æ–º)', 'she': '–û–Ω–∞ —à–ª–∞ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –ø—Ä–æ—à–ª–æ–º)',
                    'it': '–û–Ω–æ —à–ª–æ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –ø—Ä–æ—à–ª–æ–º)', 'we': '–ú—ã —à–ª–∏ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –ø—Ä–æ—à–ª–æ–º)',
                    'they': '–û–Ω–∏ —à–ª–∏ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –ø—Ä–æ—à–ª–æ–º)'
                },
                'futureContinuous': {
                    'I': '–Ø –±—É–¥—É –∏–¥—Ç–∏ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –±—É–¥—É—â–µ–º)', 'you': '–¢—ã –±—É–¥–µ—à—å –∏–¥—Ç–∏ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –±—É–¥—É—â–µ–º)',
                    'he': '–û–Ω –±—É–¥–µ—Ç –∏–¥—Ç–∏ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –±—É–¥—É—â–µ–º)', 'she': '–û–Ω–∞ –±—É–¥–µ—Ç –∏–¥—Ç–∏ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –±—É–¥—É—â–µ–º)',
                    'it': '–û–Ω–æ –±—É–¥–µ—Ç –∏–¥—Ç–∏ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –±—É–¥—É—â–µ–º)', 'we': '–ú—ã –±—É–¥–µ–º –∏–¥—Ç–∏ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –±—É–¥—É—â–µ–º)',
                    'they': '–û–Ω–∏ –±—É–¥—É—Ç –∏–¥—Ç–∏ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –±—É–¥—É—â–µ–º)'
                },
                'presentPerfectContinuous': {
                    'I': '–Ø —Ö–æ–∂—É (—É–∂–µ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è)', 'you': '–¢—ã —Ö–æ–¥–∏—à—å (—É–∂–µ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è)',
                    'he': '–û–Ω —Ö–æ–¥–∏—Ç (—É–∂–µ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è)', 'she': '–û–Ω–∞ —Ö–æ–¥–∏—Ç (—É–∂–µ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è)',
                    'it': '–û–Ω–æ —Ö–æ–¥–∏—Ç (—É–∂–µ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è)', 'we': '–ú—ã —Ö–æ–¥–∏–º (—É–∂–µ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è)',
                    'they': '–û–Ω–∏ —Ö–æ–¥—è—Ç (—É–∂–µ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è)'
                },
                'pastPerfectContinuous': {
                    'I': '–Ø —Ö–æ–¥–∏–ª/—Ö–æ–¥–∏–ª–∞ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)', 
                    'you': '–¢—ã —Ö–æ–¥–∏–ª/—Ö–æ–¥–∏–ª–∞ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)',
                    'he': '–û–Ω —Ö–æ–¥–∏–ª (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)', 
                    'she': '–û–Ω–∞ —Ö–æ–¥–∏–ª–∞ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)',
                    'it': '–û–Ω–æ —Ö–æ–¥–∏–ª–æ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)', 
                    'we': '–ú—ã —Ö–æ–¥–∏–ª–∏ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)',
                    'they': '–û–Ω–∏ —Ö–æ–¥–∏–ª–∏ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)'
                }
            },
            'come': {
                'present': {
                    'I': '–Ø –ø—Ä–∏—Ö–æ–∂—É', 'you': '–¢—ã –ø—Ä–∏—Ö–æ–¥–∏—à—å', 'he': '–û–Ω –ø—Ä–∏—Ö–æ–¥–∏—Ç',
                    'she': '–û–Ω–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç', 'it': '–û–Ω–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç', 'we': '–ú—ã –ø—Ä–∏—Ö–æ–¥–∏–º', 'they': '–û–Ω–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç'
                },
                'past': {
                    'I': '–Ø –ø—Ä–∏—Ö–æ–¥–∏–ª/–ø—Ä–∏—Ö–æ–¥–∏–ª–∞', 'you': '–¢—ã –ø—Ä–∏—Ö–æ–¥–∏–ª/–ø—Ä–∏—Ö–æ–¥–∏–ª–∞', 'he': '–û–Ω –ø—Ä–∏—Ö–æ–¥–∏–ª',
                    'she': '–û–Ω–∞ –ø—Ä–∏—Ö–æ–¥–∏–ª–∞', 'it': '–û–Ω–æ –ø—Ä–∏—Ö–æ–¥–∏–ª–æ', 'we': '–ú—ã –ø—Ä–∏—Ö–æ–¥–∏–ª–∏', 'they': '–û–Ω–∏ –ø—Ä–∏—Ö–æ–¥–∏–ª–∏'
                },
                'future': {
                    'I': '–Ø –ø—Ä–∏–¥—É', 'you': '–¢—ã –ø—Ä–∏–¥—ë—à—å', 'he': '–û–Ω –ø—Ä–∏–¥—ë—Ç',
                    'she': '–û–Ω–∞ –ø—Ä–∏–¥—ë—Ç', 'it': '–û–Ω–æ –ø—Ä–∏–¥—ë—Ç', 'we': '–ú—ã –ø—Ä–∏–¥—ë–º', 'they': '–û–Ω–∏ –ø—Ä–∏–¥—É—Ç'
                },
                'presentPerfect': {
                    'I': '–Ø –ø—Ä–∏—à—ë–ª/–ø—Ä–∏—à–ª–∞', 'you': '–¢—ã –ø—Ä–∏—à—ë–ª/–ø—Ä–∏—à–ª–∞', 'he': '–û–Ω –ø—Ä–∏—à—ë–ª',
                    'she': '–û–Ω–∞ –ø—Ä–∏—à–ª–∞', 'it': '–û–Ω–æ –ø—Ä–∏—à–ª–æ', 'we': '–ú—ã –ø—Ä–∏—à–ª–∏', 'they': '–û–Ω–∏ –ø—Ä–∏—à–ª–∏'
                },
                'pastPerfect': {
                    'I': '–Ø –ø—Ä–∏—à—ë–ª/–ø—Ä–∏—à–ª–∞ (–¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)', 'you': '–¢—ã –ø—Ä–∏—à—ë–ª/–ø—Ä–∏—à–ª–∞ (–¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)',
                    'he': '–û–Ω –ø—Ä–∏—à—ë–ª (–¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)', 'she': '–û–Ω–∞ –ø—Ä–∏—à–ª–∞ (–¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)',
                    'it': '–û–Ω–æ –ø—Ä–∏—à–ª–æ (–¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)', 'we': '–ú—ã –ø—Ä–∏—à–ª–∏ (–¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)',
                    'they': '–û–Ω–∏ –ø—Ä–∏—à–ª–∏ (–¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)'
                },
                'presentContinuous': {
                    'I': '–Ø –∏–¥—É (—Å–µ–π—á–∞—Å)', 'you': '–¢—ã –∏–¥—ë—à—å (—Å–µ–π—á–∞—Å)', 'he': '–û–Ω –∏–¥—ë—Ç (—Å–µ–π—á–∞—Å)',
                    'she': '–û–Ω–∞ –∏–¥—ë—Ç (—Å–µ–π—á–∞—Å)', 'it': '–û–Ω–æ –∏–¥—ë—Ç (—Å–µ–π—á–∞—Å)', 'we': '–ú—ã –∏–¥—ë–º (—Å–µ–π—á–∞—Å)', 'they': '–û–Ω–∏ –∏–¥—É—Ç (—Å–µ–π—á–∞—Å)'
                },
                'pastContinuous': {
                    'I': '–Ø —à—ë–ª/—à–ª–∞ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –ø—Ä–æ—à–ª–æ–º)', 'you': '–¢—ã —à—ë–ª/—à–ª–∞ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –ø—Ä–æ—à–ª–æ–º)',
                    'he': '–û–Ω —à—ë–ª (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –ø—Ä–æ—à–ª–æ–º)', 'she': '–û–Ω–∞ —à–ª–∞ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –ø—Ä–æ—à–ª–æ–º)',
                    'it': '–û–Ω–æ —à–ª–æ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –ø—Ä–æ—à–ª–æ–º)', 'we': '–ú—ã —à–ª–∏ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –ø—Ä–æ—à–ª–æ–º)',
                    'they': '–û–Ω–∏ —à–ª–∏ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –ø—Ä–æ—à–ª–æ–º)'
                },
                'futureContinuous': {
                    'I': '–Ø –±—É–¥—É –ø—Ä–∏—Ö–æ–¥–∏—Ç—å (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –±—É–¥—É—â–µ–º)', 'you': '–¢—ã –±—É–¥–µ—à—å –ø—Ä–∏—Ö–æ–¥–∏—Ç—å (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –±—É–¥—É—â–µ–º)',
                    'he': '–û–Ω –±—É–¥–µ—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –±—É–¥—É—â–µ–º)', 'she': '–û–Ω–∞ –±—É–¥–µ—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –±—É–¥—É—â–µ–º)',
                    'it': '–û–Ω–æ –±—É–¥–µ—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –±—É–¥—É—â–µ–º)', 'we': '–ú—ã –±—É–¥–µ–º –ø—Ä–∏—Ö–æ–¥–∏—Ç—å (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –±—É–¥—É—â–µ–º)',
                    'they': '–û–Ω–∏ –±—É–¥—É—Ç –ø—Ä–∏—Ö–æ–¥–∏—Ç—å (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –±—É–¥—É—â–µ–º)'
                },
                'presentPerfectContinuous': {
                    'I': '–Ø –ø—Ä–∏—Ö–æ–∂—É (—É–∂–µ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è)', 'you': '–¢—ã –ø—Ä–∏—Ö–æ–¥–∏—à—å (—É–∂–µ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è)',
                    'he': '–û–Ω –ø—Ä–∏—Ö–æ–¥–∏—Ç (—É–∂–µ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è)', 'she': '–û–Ω–∞ –ø—Ä–∏—Ö–æ–¥–∏—Ç (—É–∂–µ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è)',
                    'it': '–û–Ω–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç (—É–∂–µ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è)', 'we': '–ú—ã –ø—Ä–∏—Ö–æ–¥–∏–º (—É–∂–µ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è)',
                    'they': '–û–Ω–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç (—É–∂–µ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è)'
                },
                'pastPerfectContinuous': {
                    'I': '–Ø –ø—Ä–∏—Ö–æ–¥–∏–ª/–ø—Ä–∏—Ö–æ–¥–∏–ª–∞ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)',
                    'you': '–¢—ã –ø—Ä–∏—Ö–æ–¥–∏–ª/–ø—Ä–∏—Ö–æ–¥–∏–ª–∞ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)',
                    'he': '–û–Ω –ø—Ä–∏—Ö–æ–¥–∏–ª (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)',
                    'she': '–û–Ω–∞ –ø—Ä–∏—Ö–æ–¥–∏–ª–∞ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)',
                    'it': '–û–Ω–æ –ø—Ä–∏—Ö–æ–¥–∏–ª–æ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)',
                    'we': '–ú—ã –ø—Ä–∏—Ö–æ–¥–∏–ª–∏ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)',
                    'they': '–û–Ω–∏ –ø—Ä–∏—Ö–æ–¥–∏–ª–∏ (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)'
                }
            }
        };
        
        function getRussianTranslation(verb, subject, tense) {
            // Skip "been being" constructions for "be" verb in perfect continuous tenses
            if (verb === 'be' && (tense === 'presentPerfectContinuous' || tense === 'pastPerfectContinuous')) {
                return null; // This will be handled by the generator to skip these forms
            }
            
            // First check if we have a complete translation
            if (completeRussianTranslations[verb] && 
                completeRussianTranslations[verb][tense] && 
                completeRussianTranslations[verb][tense][subject]) {
                return completeRussianTranslations[verb][tense][subject];
            }
            
            // Otherwise, use improved generation based on tense
            switch(tense) {
                case 'present':
                    return getRussianPresent(verb, subject);
                case 'past':
                    return getRussianPast(verb, subject, false); // Use imperfective for simple past
                case 'future':
                    return getRussianFuture(verb, subject);
                case 'presentPerfect':
                    return getRussianPast(verb, subject, true); // Use perfective for present perfect
                case 'pastPerfect':
                    return getRussianPast(verb, subject, true) + ' (–¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)'; // Use perfective
                case 'presentContinuous':
                    return getRussianPresent(verb, subject) + ' (—Å–µ–π—á–∞—Å)';
                case 'pastContinuous':
                    return getRussianPast(verb, subject, false) + ' (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –ø—Ä–æ—à–ª–æ–º)'; // Use imperfective
                case 'futureContinuous':
                    return getRussianFuture(verb, subject) + ' (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –≤ –±—É–¥—É—â–µ–º)';
                case 'presentPerfectContinuous':
                    return getRussianPresent(verb, subject) + ' (—É–∂–µ –∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è)';
                case 'pastPerfectContinuous':
                    return getRussianPast(verb, subject, false) + ' (–∫–∞–∫–æ–µ-—Ç–æ –≤—Ä–µ–º—è –¥–æ –º–æ–º–µ–Ω—Ç–∞ –≤ –ø—Ä–æ—à–ª–æ–º)'; // Use imperfective
                default:
                    return getRussianPresent(verb, subject);
            }
        }

        // Initialize app
        document.addEventListener('DOMContentLoaded', () => {
            initializeVerbDictionary();
            app.init();
        });
    </script>
</body>
</html>
